var $ZSIQLSDB=$ZSIQLSDB||function(){var t=function(t){try{return window[t].setItem("test","1"),window[t].removeItem("test"),!!window[t]}catch(t){return!1}},e=t("sessionStorage"),r=t("localStorage");return{set:function(e,r,o){if($ZSIQLSDB.isLocalStorageAvail())try{this.storeInLocalStorage(e,r,o)}catch(t){$ZSIQCookie.set(e,$ZSIQLSDB.toString(r),o)}else $ZSIQCookie.set(e,$ZSIQLSDB.toString(r),o)},storeInLocalStorage:function(t,e,r){var o=JSON.parse(localStorage.siqlsdb||"{}");r&&(e.ttl=r,e.time=(new Date).getTime()),e=$ZSIQLSDB.toString(e),o[t]=e,localStorage.siqlsdb=JSON.stringify(o)},isLocalStorageAvail:function(){return r},get:function(t){return $ZSIQLSDB.isLocalStorageAvail()&&$ZSIQLSDB.getFromLocalStorage(t)||$ZSIQUtil.parseToJSON($ZSIQCookie.get(t))},isSessionStorageAvail:function(){return e},storeInSession:function(t,e){if(!this.isSessionStorageAvail())return!1;var r=$ZSIQUtil.parseToJSON(sessionStorage.utsdb||"{}");return r[t]=e,sessionStorage.utsdb=JSON.stringify(r),!0},getFromSession:function(t){if(this.isSessionStorageAvail())return $ZSIQUtil.parseToJSON(sessionStorage.utsdb||"{}")[t]},getFromLocalStorage:function(e){var r=$ZSIQUtil.parseToJSON(localStorage.siqlsdb||"{}")[e];if(!r)return null;try{if((r=$ZSIQUtil.parseToJSON(r)).ttl&&r.ttl+r.time<(new Date).getTime())return $ZSIQLSDB.remove(e),null}catch(t){LSDebugger.postDebugInfo("Value: "+r+"Key"+e,null,null,!0)}return r},remove:function(e){if($ZSIQLSDB.isLocalStorageAvail())try{var t=$ZSIQUtil.parseToJSON(localStorage.siqlsdb||"{}");t[e]&&delete t[e],localStorage.siqlsdb=JSON.stringify(t)}catch(t){$ZSIQCookie.remove(e)}else $ZSIQCookie.remove(e)},removeAllFAQValuesFromSession:function(t){if(this.isSessionStorageAvail())try{var e=JSON.parse(sessionStorage.utsdb||"{}");for(var t in e)e.hasOwnProperty(t)&&(t.startsWith("article_")||t.startsWith("faq_"))&&delete e[t];sessionStorage.utsdb=JSON.stringify(e)}catch(t){}},removeSessionStore:function(t){if(this.isSessionStorageAvail())try{var e=JSON.parse(sessionStorage.utsdb||"{}");e[t]&&(delete e[t],sessionStorage.utsdb=JSON.stringify(e))}catch(t){}},toString:function(e){if(!e)return e;try{return t=e,Object.toJSON?Object.toJSON(t):JSON.stringify(t)}catch(t){var r,o=[];for(var i in e)r=e[i].replace('"','\\"'),o.push('"'+i+'":"'+r+'"');return"{"+o+"}"}var t}}}();var $ZSIQCookie=$ZSIQCookie||{get:function(e){e+="=";var o=document.cookie.indexOf(e),n="";return-1!=o&&-1!=(n=document.cookie.substr(o+e.length)).indexOf(";")&&(n=n.substring(0,n.indexOf(";"))),decodeURIComponent(n)},set:function(e,o,n,t){var i=new Date;return null!=n&&""!=n||(n=18e4),i.setTime(i.getTime()+n),e+="= "+encodeURIComponent(o)+";expires= "+i.toGMTString()+";",t&&(e+="path=/;"),document.cookie=e,!0},remove:function(e){var o=new Date;o.setTime(o.getTime()-1),document.cookie=e+"=;expires="+o.toGMTString()+";"}};try{_ZSIQ=window._ZSIQ||{JSAPI:{}},$ZSIQAnalytics={},$ZSIQAutopick={},_ZSIQ.isagentschat||($zohosq=$zoho.livedesk||$zoho.salesiq,$zohosq._callbacks={},$zcb=$zohosq._callbacks,$zv=$zohosq.values,$zlm={},$zlch={},$zla="handleAnalyticEvents",$zohosq.utsvalues={},$ZSIQ_UTSinitialized=null),$zohosq._invoke=function(t,e){for(var n in $ZSIQAnalytics)if($ZSIQAnalytics.hasOwnProperty(n)){var i=$ZSIQAnalytics[n];$ZShandleEvent(t,e,i)}if($zcb[t]&&"function"==typeof $zcb[t]){if("object"!=typeof e){if($zlm[t]===e)return!1;$zlm[t]=e}var o;if(e.visitid)o=$zcb[t](e.visitid,e);else{if("visitor.trigger"===t)return $zcb[t](e.triggername,e.visitorinfo);o=$zcb[t](e)}o=null!=o?o:-1;var a={};a[t]=o,$zlch[t]&&$zohosq.setValue("callback",a),$zlm[t]={}}else"custom.field"==t&&$zohosq.customfield.handleCallbacks(e);return!1},$zohosq.visitor={referer:function(t){return t&&t.trim()&&$zohosq.setValue("referer",t,3),$zv.referer},cpage:function(t){return t&&t.trim()&&$zohosq.setValue("cpage",t,3),$zv.cpage},pagetitle:function(t){return t&&t.trim()&&$zohosq.setValue("pagetitle",t,3),$zv.pagetitle},customaction:function(t,e){if(t&&0!=t.trim().length&&!$ZSisThresholdExceeded("ca",50)){var n={};n.field=t,n.value=e||{},$zv.customaction=n,$ZNotifyTracking(4,n)}},uniqueid:function(){return $zv.uvid},name:function(t){return t&&t.trim()&&$zohosq.setValue("name",t,3),$zv.name},email:function(t){if(null!=t&&/^([\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2}))$/.test(t))return $zohosq.setValue("email",t,3),$zv.email},id:function(t){return t&&t.trim()&&$zohosq.setValue("id",t),$ZSIQUtil.getAPIValues().id=t,$zv.id},question:function(t){return null!=t&&$zohosq.setValue("question",t),$zv.question},contactnumber:function(t){return null!=t&&$ZSIQUtil.isValidPhoneNo(t)&&$zohosq.setValue("phone",t,3),$zv.phone},info:function(t){return t&&($zv.info=t),$zohosq.setValue("info",$zv.info,3),$zv.info},authkey:function(t){return t&&($zv.authkey=t),$zv.authkey},chat:function(t){$zcb["visitor.chat"]=t},attend:function(t){$zcb["visitor.attend"]=t},missed:function(t){$zcb["visitor.missed"]=t},agentsoffline:function(t){$zcb["visitor.offline"]=t},offlineMessage:function(t){$zcb["visitor.offline"]=t},chatmessage:function(t){$zcb["visitor.chatmessage"]=t},chatcomplete:function(t){$zcb["visitor.chatcomplete"]=t},rating:function(t){$zcb["visitor.rating"]=t},feedback:function(t){$zcb["visitor.feedback"]=t},idleTime:function(t){isNaN(t)||($zv.idletime=t,$ZNotifyTracking(2,t))},idle:function(t){$zcb["visitor.idle"]=t},active:function(t){$zcb["visitor.active"]=t},onNavigate:function(t){return t},trigger:function(t){$zcb["visitor.trigger"]=t},triggeredchat:function(t){$zcb["visitor.triggeredchat"]=t},ongoingchat:function(){return-1!=$ZSIQUtil.getIframe().$Support.EmbedObj.chatID},getGeoDetails:function(){$zv.fetchgeolocation=!0}},$zohosq.chat={enableCrossDomain:function(t){return t&&t.trim()&&$zohosq.setValue("enablecrossdomain",t),$zv.enablecrossdomain},mode:function(t){return null!=t&&$zohosq.setValue("chatmode",t),$zv.chatmode},sendmessage:function(t){Float&&t&&Float.sendMessage(t)},department:function(t){return null!=t&&$zohosq.setValue("department",t),$zv.department},defaultdepartment:function(t){return t&&($zv.defaultdepartment=t),$zv.defaultdepartment},agent:function(t){return null!=t&&$zohosq.setValue("agent",t),$zv.agent},messages:function(t){return t&&($zv.chatmessages=t),$zv.chatmessages},systemmessages:function(t){return t&&($zv.chatmessages=t),$zv.chatmessages},title:function(t,e){return t&&($zv.title=t),"[object Object]"===Object.prototype.toString.call(e)&&($zv.titlestyle=e),$zv.title},messagehint:function(t){return t&&($zv.messagehint=t),$zv.messagehint},online:function(t){$zcb["chat.online"]=t},offline:function(t){$zcb["chat.offline"]=t},logo:function(t,e){return t&&($zv.clogo=t),e&&($zv.cwebsite=e),$zv.clogo},waitinghandler:function(t){var e="chat.waitinghandler";$zcb[e]=$zlch[e]=t,$zv[e]=null!=t},start:function(){_ZSIQ.JSAPI.broadcastMessage("chatstart",{})},forward:function(t){return null!=t&&$zohosq.setValue("forward",t),$zv.forward},attend:function(t){$zcb["visitor.attend"]=t},agentMessage:function(t){$zcb["visitor.chatmessage"]=t},triggerMessage:function(t){$zv.triggermsg=!0,$zcb["visitor.chattrigger"]=t},complete:function(t){t?$zcb["visitor.chatcomplete"]=t:_ZSIQ.JSAPI.broadcastMessage("chatend",{})},missed:function(t){$zcb["visitor.missed"]=t},theme:function(t){!function(t){if(!t)return;$zv.buttontheme=t+"-btn",$zv.sbonlinebg="",$zv.sbonlinebdr="",$zv.sbicobg=""}(t),function(t){if(!t)return;var e={black:["blck","black"],gray:["gry","gray"],blue:["blue","blue"],green:["green","green"],red:["red","red"],purple:["purple","purple"]};e.hasOwnProperty(t)?($zv.embedtheme=e[t][0],$zv.embedheadertheme=e[t][1]):$zv.embedtheme=t}(t)},floatingwindow:function(t){$zv.forcefloatingwindow="all"===t||!("ipad"===t&&/ipad/.test(navigator.userAgent.toLowerCase()))},transferchat:function(t){$zcb["agent.transferchat"]=t},accepttransfer:function(t){$zcb["agent.accepttransfer"]=t},waitime:function(t){t&&($zv.waitime=t)}},$zohosq.call={start:function(){_ZSIQ.JSAPI.broadcastMessage("callstart",{})},isavsupported:function(t){$zcb["call.isavsupported"]=t},attended:function(t){$zcb["call.attended"]=t},completed:function(t){$zcb["call.completed"]=t},missed:function(t){$zcb["call.missed"]=t},cancelled:function(t){$zcb["call.cancelled"]=t}},$zohosq.rating={visible:function(t){return t&&($zv["rating.visible"]=t),$zv["rating.visible"]}},$zohosq.feedback={visible:function(t){return t&&($zv["feedback.visible"]=t),$zv["feedback.visible"]}},$zohosq.integ={requestid:function(t){return null!=t&&$zohosq.setValue("requestid",t),$zv.requestid}},$zohosq.chatbubble={visible:function(t){return t&&($zv.bubblevisible=t),$zv.bubblevisible},animate:function(t){return t&&($zv.bubbleanimatetimer=t),$zv.bubbleanimatetimer},src:function(t){return t&&($zv.bubblesrc=t),$zv.bubblesrc},close:function(t){$zcb["chatbubble.close"]=t}},$zohosq.chatbutton={texts:function(t){return t&&($zv.buttontexts=t),$zv.buttontexts},icon:function(t){return t&&($zv.buttonicon=t),$zv.buttonicon},visible:function(t){t&&($zv.buttonvisible=t),$ZSIQCookie.set("isiframeenabled",!0,864e5);try{zhandleLiveEvent("buttonvisible",t)}catch(t){}return $zv.buttonvisible},onlineicon:{src:function(t){return t&&($zv.buttononlineicon=t),$zv.buttononlineicon}},offlineicon:{src:function(t){return t&&($zv.buttonofflineicon=t),$zv.buttonofflineicon}},click:function(t){$zcb["chatbutton.click"]=t},width:function(t){return t&&($zv.bwidth=t),$zv.bwidth}},$zohosq.floatbutton={position:function(t){return t&&($zv.floatposition=t),$zv.floatposition},visible:function(t){t&&($zv.floatvisible=t),$ZSIQCookie.set("isiframeenabled",!0,864e5);try{$ZSIQWidget&&$ZSIQChatWindow.handleIframeLoading(function(){$ZSIQWidgetUI.handleWidgetVisible(t)})}catch(t){}return $zv.floatvisible},onlineicon:{src:function(t){return t&&($zv.floatbuttononlinesrc=t),$zv.floatbuttononlinesrc}},offlineicon:{src:function(t){return t&&($zv.floatbuttonofflinesrc=t),$zv.floatbuttonofflinesrc}},click:function(t){$zcb["floatbutton.click"]=t},coin:{hidetooltip:function(){try{$ZSIQWidget&&$ZSIQChatWindow.handleIframeLoading(function(){$ZSIQWidgetUI.checkAndHideCoinToolTip()})}catch(t){}$zv.ishidetooltip=!0}}},$zohosq.chatwindow={visible:function(t){t&&($zv.chatwindowvisible=t),$ZSIQCookie.set("isiframeenabled",!0,864e5);try{zhandleLiveEvent("chatwindowvisible",t)}catch(t){}return $zv.chatwindowvisible},reload:function(){$ZSIQUtil.getIframe().$Support.reload()}},$zohosq.floatwindow={visible:function(t,e,n){t&&($zv.floatwindowvisible=t),$ZSIQCookie.set("isiframeenabled",!0,864e5);try{$ZSIQWidget&&$ZSIQChatWindow.handleIframeLoading(function(){$ZSIQChatWindow.handleChatWindowVisible(t,!1,e,n)})}catch(t){}return $zv.floatwindowvisible},open:function(t){t?$zcb["chat.open"]=t:this.visible("show")},close:function(t){t?$zcb["chat.close"]=t:this.visible("hide")},minimize:function(t){if(t)$zcb["floatwindow.minimize"]=t;else try{$ZSIQChatWindow.minimizeChatWindow(!0)}catch(t){}},onlinetitle:function(t){return null!=t&&($zv.floatwindowonlinetitle=t),$zv.floatwindowonlinetitle},offlinetitle:function(t){return null!=t&&($zv.floatwindowofflinetitle=t),$zv.floatwindowofflinetitle},fields:function(t){return null!=t&&($zv.floatwindowfields=t),$zv.floatwindowfields},defaultview:function(t){return null!=t&&($zv.defaultview=t),$zv.defaultview}},$zohosq.custom={html:function(t,e){if(t&&e){$zv.customhtml=[t,e];try{Float.drawFloatButtonHtml($zv.customhtml)}catch(t){try{zlsDrawButtonHtml($zv.customhtml)}catch(t){}}}return $zv.floatbuttondraw}},$zohosq.customfield={add:function(t){var e="customfield";if(t){var n=$zv[e]=$zv[e]||[];this._splice([t.name],n),$zv[e].push(t),_ZSIQ.JSAPI.broadcastMessage(e,$zv[e])}},clear:function(t){var e="customfield";t||($zv[e]=[],t=[]),"[object Array]"===Object.prototype.toString.call(t)&&this._splice(t,$zv[e]||[])},handleCallbacks:function(t){if(t){var e=this._getObject(t.name);e&&e.callback&&e.callback(t.val)}},_getObject:function(t){var e=$zv.customfield;if(e&&!(e.length<1))for(var n=0;n<e.length;n++)if(e[n].name==t)return e[n]},_splice:function(t,e){for(var n="clearfield",i=0;i<t.length;i++){for(var o=0;o<e.length;o++)if(e[o].name==t[i]){e.splice(o,1),_ZSIQ.JSAPI.broadcastMessage("clearcustomfield",[t[i]]);break}/^(siq_name|siq_email|siq_phone|)$/.exec(t[i])&&($zv[n]&&$zv[n].push(t[i]),_ZSIQ.JSAPI.broadcastMessage(n,[t[i]]))}}},$zohosq.field={clear:function(t){$zv.clearfield=[],$zohosq.customfield.clear(t)}},$zohosq.tracking={on:function(){$zv.tracking="on",$ZSIQUtil.getAPIValues().tracking="on",$ZNotifyTracking(1,"on")},off:function(){$zv.tracking="off",$ZSIQUtil.getAPIValues().tracking="off",$ZNotifyTracking(1,"off")},domain:function(t){var e=window.location.hostname;t&&-1!==e.indexOf(t,e.length-t.length)&&($zohosq.utsvalues.trackingdomain=t)},allowMultiTrigger:function(t){$zv.mtrigger=$ZSIQUtil.getAPIValues().mtrigger=!!t}},$zohosq.language=function(t){return t&&($zv.language=t),$zv.language},$zohosq.personalize={agentorder:function(t){return null!=t&&$zohosq.setValue("agentorder",t),$zv.agentorder}},$zohosq.set=function(t){for(var e in t)try{for(var n=e.split("."),i=this[n[0]],o=1;o<n.length;o++)n[o]&&(i=i[n[o]]);"function"==typeof i&&i(t[e])}catch(t){}},$zohosq.setValue=function(t,e,n){if(null!=e&&t&&($zv[t]=e,_ZSIQ.JSAPI.broadcastMessage(t,e),n)){var i={};i[t]=e,$ZNotifyTracking(n,i)}},$zoho.ld={},$zoho.ld.handle={customClick:function(t){var e=$zohosq.values.customhtml;if(!e)return!1;var n=e[1][t+".click"];if("function"==typeof n)n();else try{$ZSIQChatWindow.openChatWindow()}catch(t){try{zlsHandleCustomClick()}catch(t){}}}},$zohosq.privacy={trackingbannercontent:function(t){return t&&($zv.trackbannerobj=t),$zv.trackbannerobj},chatbannercontent:function(t){return t&&($zv.textbannerobj=t),$zv.textbannerobj}}}catch(t){}$ZSisThresholdExceeded=function(t,e){var n=Math.floor((new Date).getTime()/6e4);if(n=t+"_"+n,"undefined"==typeof $ZSIQUTS)return!1;var i=$UTSHandler.getFromSession(n);return i||(i=0),$UTSHandler.storeInSession(n,++i),e<i},$ZNotifyTracking=window.$ZNotifyTracking||function(t,e){if($ZSIQ_UTSinitialized||window.$UTSConnector)try{$UTSHandler.handleApiChange(t,e)}catch(t){}},$ZShandleEvent=window.$ZShandleEvent||function(t,e,n){try{$zohosq.handleAnalyticEvents(t,e,n)}catch(t){}},_ZSIQ.JSAPI.broadcastMessage=window._ZSIQ.JSAPI.broadcastMessage||function(t,e){if($ZSIQ_UTSinitialized)try{var n=$ZSIQUtil.getIframe(),i={};i[t]=e,n.$Support.handleApiData(i,!0)}catch(t){$ZSIQUtil.updateApiValues()}try{AgentsChat.broadcastMessage(t,e)}catch(t){}try{zlsWinBroadcastMessage(t,e)}catch(t){}try{zlsBtnBroadcastMessage(t,e)}catch(t){}},_ZSIQ.JSAPI.identifySIQParam=window._ZSIQ.JSAPI.identifySIQParam||function(){var t,e,n,i=function(t){return decodeURIComponent((t+"").replace(/\+/g,"%20"))};try{var o={};if(!(a=window.location.search))return;for(var a,c=(a=a.replace(/^\?/g,"")).split("&"),r=[],l=0;l<c.length;l++)o[i((r=c[l].split("="))[0])]=i(r[1]);null!=o.siq_email?$zohosq.visitor.email(o.siq_email):null!=o.om_email&&$zohosq.visitor.email(o.om_email),null!=o.siq_name?$zohosq.visitor.name(o.siq_name):null!=o.om_name&&$zohosq.visitor.name(o.om_name),t=location.href.split("?")[0],e=location.search,n=location.hash,e&&(t+=(e=(e=(e=e.replace(/^\?/g,"")).replace(/(^|&)siq_(name|email)=[^&]*/g,"")).replace(/^&/g,""))?"?"+e+n:n,window.history.replaceState(window.history.state,"",t))}catch(t){}};try{var $zsalobj=window.$zsalobj||{};$zohosq.init=function(){$zsalobj&&0==Object.keys($zsalobj).length&&($zsalobj={"chatbutton.click":["Button Clicked","Click on the "+_ZSIQ.brandname+" SalesIQ chat button."],"floatbutton.click":["Button Clicked","Click on the "+_ZSIQ.brandname+"SalesIQ chat button."],"chat.close":["Chat Closed","Click on the Close (X) icon in the chat window."],"floatwindow.minimize":["Chat Minimized","Click to minimize the "+_ZSIQ.brandname+"SalesIQ chat window."],"chatbubble.close":["Bubble Closed","Click on the Close(X) icon on the chat bubble."],"visitor.attend":["Chat Connected","Chat sessions with the visitors.","waitingduration"],"visitor.chatcomplete":["Chat Ended","Chat ended by the visitors.","chatduration"],"chat.file":["File Transferred","File transfers made by the visitors."],"chat.print":["Chat Printed","Chat transcripts printed by the visitors."],"chat.mail":["Chat Mail sent","Chat transcripts emailed by the visitor."],"visitor.rating":["Rating Submitted","Rating submitted by visitors.","rating"],"visitor.feedback":["Feedback Submitted","Feedback messages submitted by visitors."],"visitor.chattrigger":["Chat Triggerred","Auto and proactive chat initiated to the visitors."],"visitor.triggerresponded":["Trigger Responded","Visitor responded to trigger or proactive chat."],"visitor.chat":["Chat Initiated","Visitor initiated chats."],"visitor.offline":["Offline Message Submitted","Offline messages submitted by the visitors."],"visitor.missed":["Chat Missed","Chat missed by the SalesIQ users."],"chat.visitorend":["Chat Ended by visitor","Chats ended by the visitors."]})},$zohosq.handleAnalyticEvents=window.$zohosq.handleAnalyticEvents||function(e,t,a){var i=$zsalobj[e];if(i){var s=t[i[2]];if(s&&(s=parseInt(s)),1==a)try{"function"==typeof gtag?3===i.length?gtag("event",i[0],{event_category:"SalesIQ",event_label:i[1],value:s}):gtag("event",i[0],{event_category:"SalesIQ",event_label:i[1]}):"function"==typeof ga?3===i.length?ga("send","event","Sales IQ",i[0],i[1],s):ga("send","event","Sales IQ",i[0],i[1]):"undefined"!=typeof _gaq&&(3===i.length?_gaq.push(["_trackEvent","Sales IQ",i[0],i[1],s]):_gaq.push(["_trackEvent","Sales IQ",i[0],i[1]]))}catch(e){}else if(2==a)3===i.length?clicky.log("Sales IQ-"+i[0]+"-"+s):clicky.log("Sales IQ-"+i[0]);else if(3==a){if(3===i.length)(n={})[i[1]]=s,_kmq.push(["record","Sales IQ "+i[0],n]);else _kmq.push(["record","Sales IQ "+i[0]])}else if(4==a){if(3===i.length)(n={})[i[1]]=s,window.optimizely.push(["trackEvent","Sales IQ "+i[0],n]);else window.optimizely.push(["trackEvent","Sales IQ "+i[0]])}else if(5==a){if(3===i.length)(n={})[i[1]]=s,woopra.track("Sales IQ "+i[0],n);else woopra.track("Sales IQ "+i[0])}else if(6==a)3===i.length?_paq.push(["trackEvent","Sales IQ",i[0],"",s]):_paq.push(["trackEvent","Sales IQ",i[0]]);else if(7==a){if(3===i.length)(n={})[i[1]]=s,mixpanel.track("Sales IQ "+i[0],n);else mixpanel.track("Sales IQ "+i[0])}else if(8==a){var n;if(3===i.length)(n={})[i[1]]=s,_hsq.push(["trackEvent","Sales IQ "+i[0],n]);else _hsq.push(["trackEvent","Sales IQ "+i[0]])}else if(9==a){var l={event:"Sales IQ Events",category:"Sales IQ",action:i[0],label:i[1],value:0};3===i.length&&(l.value=s),dataLayer.push(l)}}}}catch(e){}var $ZSIQUtil=$ZSIQUtil||function(){var i,r=["en","ar","da","de","el","es","fr","ga","he","hu","it","iw","ja","ko","nb","nl","pl","pt","pt_PT","ro","ru","sv","th","tr","zh","hr","cs","sk","sl","vi"],a={0:"inherit",1:"salesiq-font",2:"ZSIQ Open Sans",3:"ZSIQ Oxygen",4:"ZSIQ Roboto"},t={},o=!1,c="",s=null;return{STATUS_ENABLE:1,STATUS_DISABLE:0,initializeAPIValues:function(){_ZSIQ.JSAPI.identifySIQParam();try{$zohosq.internalready(),t=$zohosq.values}catch(e){}try{$zohosq.ready(),this.updateApiValues()}catch(e){}},updateApiValues:function(){if(t&&$zohosq.values)for(var e in $zohosq.values)t[e]=$zohosq.values[e];else t=$zohosq.values;t.uvid=$UTSHandler.get("_zldt")},isDowngradedToFreePlan:function(){try{var e="true"==$ZSIQChat.getWidgetData().embedobj.pinfo.pinfo.isdowngradedtofreeplan,t=$ZSIQLicence.isFreePlan();return e&&t&&!$ZSIQChat.isPreview()}catch(e){}return!1},getCompanyLogo:function(e){if($ZSIQUtil.isDowngradedToFreePlan()){var t=$ZSIQChat.getWidgetData().commondata.imgstaticserver;return t+="/images/logo.png"}return e},getAPIValues:function(){return $ZSIQUtil.isDowngradedToFreePlan()&&delete t.clogo,t},isCSSTransformSupport:function(){try{for(var e="transform WebkitTransform MozTransform OTransform msTransform".split(" "),t=document.createElement("div"),n=0;n<e.length;n++)if(t&&void 0!==t.style[e[n]])return e[n]}catch(e){return!1}return!1},onCDNFailure:function(e){var t=$ZSIQWidget.getWidgetObject().cssstaticserver,n=$ZSIQChat.getWidgetData().jsstaticserver,i="",r=(e.href?e.href:e.src).match(/\.([^.]+)$/);r&&(i=r[1]),"js"==i?(link=document.createElement("script"),link.src=n):"css"==i&&(link=document.createElement("link"),link.rel="stylesheet",link.href=t,link.type="text/css"),document.getElementsByTagName("head")[0].appendChild(link)},getSourceID:function(){window.addEventListener("message",function(e){e.data.message&&"ZOHOSALESIQ-SCEEN-SOURCE-ID"===e.data.message.type&&($ZSIQUtil.getIframe().avimpl.screen_id=e.data.message.data,$ZSIQUtil.getIframe().avaction.constraints.SCREEN_SHARE.video.mandatory.chromeMediaSourceId=$ZSIQUtil.getIframe().avimpl.screen_id,$ZSIQUtil.getIframe().avaction.checkMediaPermission())}),window.postMessage({requestId:"get_sourceId",message:"ZOHOSALESIQ-GET-SCREEN-SOURCEID"},"*")},fadeInAnimate:function(e,t){var n=0,i=setInterval(function(){1<=n&&(clearInterval(i),e.style.display=""),n+=.1,e.style.opacity=n},t)},fadeOutAnimate:function(e,t,n){var i=1,r=setInterval(function(){i<=0&&(clearInterval(r),e.style.display="none",n&&n()),i-=.1,e.style.opacity=i},t)},storeCookieVal:function(e,t,n){var i=new Date,r=5;0==n&&(r=1440),i.setTime((new Date).getTime()+60*r*1e3);var a,o="zld"+$ZSIQWidget.getWidgetObject().lsid+e+"="+escape(t)+";expires= "+i.toGMTString()+";path=/";try{var c=((a=$zohosq.utsvalues.trackingdomain)||(a=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(a)||(a="")),a||"");o+=c?";domain="+c:""}catch(e){}document.cookie=o},getCookieValue:function(e){e="zld"+$ZSIQWidget.getWidgetObject().lsid+e;var t=document.cookie.indexOf(e),n=document.cookie.length;if(-1==t)return"";var i=t+e.length,r=unescape(document.cookie.substr(i+1,n).split(";")[0]);return"state"==r&&alert("state found"),r},containsClass:function(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.classname))},bindClickEvent:function(e,t){window.addEventListener?e.addEventListener("click",t):e.attachEvent("onclick",t)},bindResizeEvent:function(e){window.addEventListener?window.addEventListener("resize",e):window.attachEvent("resize",e)},bindFocusEvent:function(e,t){window.addEventListener?e.addEventListener("focus",t):e.attachEvent("onfocus",t)},getBrowserLanguage:function(){for(var e="",t=[(document.documentElement.lang||"").replace(/-/g,"_"),(navigator.language||navigator.userLanguage||"").replace(/-/g,"_")],n=0;n<t.length;n++){var i=t[n];if(i)return e=i.split("_")[0],-1<r.indexOf(i)?i:-1<r.indexOf(e)?e:""}},getAPILanguage:function(){return api_lang=($ZSIQUtil.getAPIValues().language||"").replace(/-/g,"_")},isFetchGeoDetails:function(){return 1==$ZSIQUtil.getAPIValues().fetchgeolocation},startAfterReady:function(e){try{$zohosq.afterReady(e),$ZSIQUtil.updateApiValues()}catch(e){}},getAPIVisitorID:function(){return $ZSIQUtil.getAPIValues().id},getIframe:function(){var e=document.getElementById("siqiframe");return!!e&&(e.contentWindow||e.contentDocument.document||e.contentDocument)},getConfigFromStorage:function(){var e="ZSIQ"+$zohosq.widgetcode+"data";if(e)return $ZSIQLSDB.get(e)},storeDetails:function(e){var t="ZSIQ"+$zohosq.widgetcode+"data";$ZSIQLSDB.set(t,e,864e5)},preserveBlockIP:function(){var e="ZSIQ"+$zohosq.widgetcode+"blocked";$ZSIQLSDB.set(e,{status:!0},2592e6)},isIPBlocked:function(){var e="ZSIQ"+$zohosq.widgetcode+"blocked",t=$ZSIQLSDB.get(e);return!!t&&t.status},ajax:function(e,t,n,i){var r=t||function(){},a=n||function(){},o=new XMLHttpRequest;if("withCredentials"in o)o.onreadystatechange=function(){4==this.readyState&&200==this.status?r(this.response):a(this.response)},o.open("GET",e,!0),i&&(o.withCredentials=!0);else if("undefined"!=typeof XDomainRequest){o=new XDomainRequest;try{o.onload=function(){r(this.response)},o.onerror=function(){a(this.response)}}catch(e){}o.open("GET",e),i&&(o.withCredentials=!0)}o.send()},parseToJSON:function(e){try{if(!e||"object"==typeof e)return e;e=JSON.parse(e)}catch(e){}return e},setText:function(e,t){document.getElementsByTagName("body")[0];var n=document.getElementById(e);"textContent"in document.body?n.textContent=t:n.innerText=t},getWebFontFamily:function(){var e=document.body,t="",n=$ZSIQWidget.getWidgetObject();return n.font[0]==$ZSIQUtil.STATUS_ENABLE&&n.font[1].default&&"0"!=n.font[1].default?t=a[""+n.font[1].default]:e.currentStyle?t=e.currentStyle.fontFamily:document.defaultView&&(t=document.defaultView.getComputedStyle(e,null).getPropertyValue("font-family")),t||"salesiq-font"},getImageURL:function(e,t){var n=window.location.protocol+"//"+$ZSIQWidget.getEmbedObject().embedserverurl+"/"+e.screenname+"/"+t.fpath+"/photo.ls";return 1==t.ispreview&&(n+="?ispreview=true"),n},blinkTitle:function(e){if(!e)return!1;o||(c=document.title,o=!0),clearTimeout(i);var t,n="";i=setInterval(function(){t="title"==t?(n=e,"chatmsg"):(n=c,"title"),document.title=n},500)},stopBlinking:function(){o&&(clearTimeout(i),o=!1,document.title=c)},setShrinkImageCSS:function(e,t,n){var i,r,a,o,c=(i=e.naturalHeight,r=e.naturalWidth,a={WIDTH:r,HEIGHT:i},o=[n/r,t/i],1<(o=Math.min(o[0],o[1]))?a:a={WIDTH:r*o,HEIGHT:i*o});e.style.height=c.HEIGHT+"px",e.style.width=c.WIDTH+"px"},isValidPhoneNo:function(e){return!!e&&/^[+0-9A-Za-z():.\-\[\] ]{1,30}$/.test(e)},getProductURLForImage:function(){if(!$ZSIQChat.getWidgetData().commondata.isdev)return"";var e=$ZSIQChat.getWidgetData().embedobj;return e.schema+"://"+e.producturl},getURLParameterByName:function(e){if(s)return s[e];s={};for(var t=window.location.search.replace(/^\?/g,"").split("&"),n=[],i=0;i<t.length;i++)n=t[i].split("="),s[n[0]]=n[1];return s[e]},linkifySubString:function(e){try{e=e.replace(/((?:href|src)=["']?)?((https?:\/\/(?:www\.)?|www\.)[a-z0-9][^@]*?)(?=&quot;|&#x27;|&lt;|[\s"'<]|$)/gi,function(e,t,n,i){var r="www."===i?"http://"+n:n;window.location.protocol,$ZSIQWidget.getEmbedObject().embedserverurl;return t?e:"<a href='"+r+"' target='_blank' class='zsiq_hyperlink' >"+n+"</a>"})}catch(e){}return e},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},formWidgetObject:function(e){var t={};for(var n in e)t[n]=$ZSIQUtil.parseToJSON(e[n]);return $ZSIQAnalytics=t.analytics,$ZSIQAutopick=t.autopick,_ZSIQ.brandname=t.brandname,t},formEmbedObject:function(e){var t={};for(var n in e)t[n]=$ZSIQUtil.parseToJSON(e[n]);return t},getObjectKeys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},getGDPRBanner:function(e,t){var n,i=t.trackingprivacystatement?t.trackingprivacystatement:e.i18nkeys["gdpr.banner.notify"],r=e.i18nkeys["gdpr.banner.button.ok"],a=e.i18nkeys["gdpr.banner.button.donottrack"],o=(t.trackingprivacystatement?t.trackingprivacystatement:e.i18nkeys["gdpr.banner.donottrack"],e.i18nkeys["gdpr.banner.learnmore"]),c=!((!(n=$UTSHandler.getAPIValuesForUTS()).tracking||"off"!=n.tracking)&&e.istracking),s="";if((n=$ZSIQUtil.getAPIValues()).trackbannerobj){var l=n.trackbannerobj;if(i=l.description&&0!=l.description.trim().length?l.description:i,r=l.acceptbutton&&0!=l.acceptbutton.trim().length?l.acceptbutton:r,a=l.declinebutton&&0!=l.declinebutton.trim().length?l.declinebutton:a,l.policytextandlink){var d=l.policytextandlink;o=d.text&&0!=d.text.trim().length?d.text:o,t.cookiepolicyurl=d.link&&0!=d.link.trim().length&&$ZSIQUtil.isValidURL(d.link)?d.link:t.cookiepolicyurl}}t.cookiepolicyurl&&(s="<a class='siq-lnmor' target='_blank' href='"+(-1==t.cookiepolicyurl.indexOf("http")?"http://"+t.cookiepolicyurl:t.cookiepolicyurl)+"'>"+o+"</a>");switch(JSON.parse(t.trackingprivacyconfig)){case 1:return"<div id='gdprbanner' class='siq-msgbanr'><span class='dib-mid'>"+i+s+"</span><div class='siq-clkoptn'><div class='siq-okbtn dib-mid' onclick=$ZSIQUtil.updateCookieForTracking(0,'"+t.trackingprivacyconfig+"') >"+r+"</div></div></div>";case 2:return"<div id='gdprbanner' class='siq-msgbanr'><span class='dib-mid'>"+i+s+"</span><div class='siq-clkoptn'><div class='siq-okbtn dib-mid' onclick=$ZSIQUtil.updateCookieForTracking(0,'"+t.trackingprivacyconfig+"') >"+r+"</div>"+(c?"":"<div class='siq-trkbtn dib-mid'onclick=$ZSIQUtil.updateCookieForTracking(1,'"+t.trackingprivacyconfig+"') >"+a+"</div>")+"</div></div>"}},getGDPRBannerCookieKey:function(e){return"gdpr_"+(e=e||$ZSIQWidget.getWidgetObject().screenname)},updateCookieForTracking:function(e,t){var n=$ZSIQUtil.getGDPRBannerCookieKey(),i=$ZSIQUtil.getGDPRBannerCookieKey(),r=2592e6;n+="__donottrack",i+="_trackingconfig";var a=function(){handleIframeFunction(function(e){e.$Support.handleDomainStorage("updatecorsdata","cookie")})};switch(e){case 0:$ZSIQCookie.set(n,0,r,!1),$ZSIQCookie.set(i,t,r,!1),$ZSIQUtil.hideGDPRBanner(),$UTSHandler.init(!0),a();break;case 1:$ZSIQCookie.set(n,1,r,!1),$ZSIQCookie.set(i,t,r,!1),$ZNotifyTracking(1,"off"),$ZSIQUtil.hideGDPRBanner(),a()}},checkGDPRBannerStatus:function(e,t,n){var i=n.pinfo.pinfo.trackingprivacyconfig,r=$ZSIQUtil.getGDPRBannerCookieKey(t);switch(e){case 0:var a=$ZSIQCookie.get(r+"__donottrack"),o=$ZSIQCookie.get(r+"_trackingconfig");return 0!=a.length&&o==i;case 1:return 0==$ZSIQCookie.get(r+"__donottrack");case 2:return 1==$ZSIQCookie.get(r+"__donottrack")&&2==i}return!1},hideGDPRBanner:function(){var e=document.getElementById("gdprbanner");$ZSIQWidgetUI.addClass(e,"gdprbanner_slide")},getGDPRPendingStatus:function(e,t,n){var i=!1;try{if(t.pinfo&&t.pinfo.pinfo){var r=t.pinfo.pinfo,a=JSON.parse(r.isgdprenabled),o=1==e.widgetobj.isgdprenabled,c=r.trackingprivacyconfig;a&&0!=c&&!$ZSIQUtil.checkGDPRBannerStatus(0,n,t)&&o&&(i=!0)}}catch(e){}return i},isValidURL:function(e){var t=new RegExp(/^(((http|https):\/\/(www.){0,1})|www.){1}[a-zA-Z0-9]+[-a-zA-Z0-9@:/%_+.~#?&/=]*[^.]$/);return void 0!==e&&t.test(e)},hyperLinksSubString:function(e,t,n){try{if(-1!==e.indexOf(t)&&0!=n.length){var i=e.length,r=t.length,a=e.substring(0,e.indexOf(t)),o=e.substring(e.indexOf(t),e.indexOf(t)+r),c=e.substring(e.indexOf(t)+r,i);e=a+(o="<a class='siq-lnmor' target='_blank' href='"+(n=-1==n.indexOf("http")?"http://"+n:n)+"'>"+o+"</a>")+c}else 0!=n.length&&(e+=" <a class='siq-lnmor' target='_blank' href='"+(n=-1==n.indexOf("http")?"http://"+n:n)+"'>"+t+"</a>")}catch(e){}return e},stringify:function(e){try{return Object.toJSON?Object.toJSON(e):JSON.stringify(e)}catch(e){}},getNavigationObj:function(e){var t,n=e?e.document:null;return n&&n.location&&n.location.protocol?-1==e.location.protocol.indexOf("http")&&e.parent&&e.parent!=e?$ZSIQUtil.getNavigationObj(e.parent):((t={}).current_page=$zohosq.visitor.cpage()||n.location.href.substring(0,3072),t.page_title=$zohosq.visitor.pagetitle()||n.title.substring(0,3072),t.referer=$zohosq.visitor.referer()||n.referrer.substring(0,3072),t):((t={}).current_page=$zohosq.visitor.cpage()||document.location.href.substring(0,3072),t.page_title=$zohosq.visitor.pagetitle()||document.title.substring(0,3072),t.referer=$zohosq.visitor.referer()||document.referrer.substring(0,3072),t)},getElementHeight:function(e){var t=getComputedStyle(e).display;e.style.display="inline-block";var n=e.offsetHeight;return e.style.display=t,n}}}(),$ZSIQLicence={verify:function(e){var t=$ZSIQUtil.getIframe().$Support.EmbedObj.linfo[e];return t&&JSON.parse(t)||!1},isFreePlan:function(){var e=parseInt($ZSIQChat.getWidgetData().embedobj.linfo.planid);return-1<[1,7,12].indexOf(e)}};function handleIframeFunction(e){var t=$ZSIQUtil.getIframe();t&&t.$Support&&e(t)}var $UTSHandler=$UTSHandler||function(){var o=function(t,e){var a,i={};i[t]=e;try{a=$ZSIQUTS.getFromSession("utssynccache")||$ZSIQUtil.stringify([]),(a=JSON.parse(a)).push(i)}catch(t){a=[]}$ZSIQUTS.storeInSession("utssynccache",$ZSIQUtil.stringify(a))},n=function(t,e){var a=e[t];switch(parseInt(t)){case 1:$UTSHandler.handleChatTriggers(a.type,a.data);break;case 2:$ZSIQChatWindow.openChatWindow(!0);break;case 3:$zohosq.floatbutton.visible("show");break;case 4:$ZSIQUTSAction.handleButtonGlow();break;case 5:$ZSIQUTSAction.handleAnimate();break;case 6:$ZSIQUtil.getIframe().$Support.setUVID(a.uvid);break;case 7:$UTSHandler.handleTrackChat(a.data);break;case 8:$UTSHandler.handleUTSConnect(a.data);break;case 9:$UTSHandler.handleBotTrigger(a)}};return{notifyCustomEvent:function(t){$ZSIQUTS.notifyCustomEvent(t)},getUTSCachedata:function(){var t=$ZSIQUTS.getFromSession("utssynccache");if(t){for(var e in t=JSON.parse(t)){var a=t[e];for(var i in a)n(i,a)}$ZSIQUTS.storeInSession("utssynccache",$ZSIQUtil.stringify([]))}},storeInSession:function(t,e){$ZSIQUTS.storeInSession(t,e)},get:function(t){return $ZSIQUTS.get(t)},getFromSession:function(t){return $ZSIQUTS.getFromSession(t)},updateAction:function(t){$ZSIQUTS.updateAction(t)},handleApiChange:function(t,e){$ZSIQUTS.handleApiChange(t,e)},init:function(t){$ZSIQUTS.init(t)},getUTSActionData:function(){return $ZSIQUTSAction.getUTSActionData()},handleChatTriggers:function(e,a){var t=$ZSIQChat.getWidgetData();if(1!=$ZSIQUtil.formWidgetObject(t.widgetobj).hideembed)try{var i=$ZSIQUtil.getAPIValues(),n=$ZSIQUtil.getIframe();n.$Support.istrigmsg&&i.triggermsg&&$ZSIQWidgetUI.getWidgetState()!=$ZSIQWidgetUI.F_WINDOW?n.$Support.incrementUnreadCount():$ZSIQWidgetUI.setWidgetState($ZSIQWidgetUI.F_WINDOW),n.$Support.Util.handleTriggers(e,a)}catch(t){var r={};r.type=e,r.data=a,o(1,r)}},openChatWindow:function(){try{$ZSIQChatWindow.openChatWindow(!0)}catch(t){o(2,{})}$UTSHandler.updateAction({type:"1"})},showButton:function(){try{$zohosq.floatbutton.visible("show")}catch(t){o(3,{})}},getFloatStatus:function(){try{return $ZSIQWidget.getWidgetStatus()}catch(t){var e=$ZSIQChat.getWidgetData();return $ZSIQUtil.formWidgetObject(e.widgetobj).status}},getFloatDiv:function(e){try{return $ZSIQWidgetUI.getWidgetDiv()}catch(t){return o(e,{}),null}},getFloatState:function(){return $ZSIQWidgetUI.getWidgetState()},setUVID:function(e){$ZSIQUtil.getAPIValues().uvid=e;try{$ZSIQUtil.getIframe().$Support.setUVID(e)}catch(t){o(6,{uvid:e})}$zv.uvid=e},getDomain:function(){var t=$zohosq.utsvalues.trackingdomain;return t||(t=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(t)||(t="")),t||""},handleTrackChat:function(e){try{$ZSIQChatWindow.handleIframeLoading();var t=1==$ZSIQWidgetUI.getWidgetState()?$ZSIQWidgetUI.F_BUTTON:$ZSIQWidgetUI.F_WINDOW;$ZSIQWidgetUI.setWidgetState(t),$ZSIQUtil.getIframe().$Support.Util.handleTrackChat(e)}catch(t){var a={};a.data=e,o(7,a)}},handleUTSConnect:function(e){try{$ZSIQUtil.getIframe().$Support.Util.handleUTSConnect(e)}catch(t){var a={};a.data=e,o(8,a)}},handleBotTrigger:function(e){try{var t=$ZSIQChat.getWidgetData();if(1==$ZSIQUtil.formWidgetObject(t.widgetobj).hideembed)return;var a=$ZSIQUtil.getAPIValues(),i=$ZSIQUtil.getIframe(),n=i.$Support;if(-1!=n.EmbedObj.chatID)return;if(n.istrigmsg&&a.triggermsg&&$ZSIQWidgetUI.getWidgetState()!=$ZSIQWidgetUI.F_WINDOW?n.incrementUnreadCount():$ZSIQWidgetUI.setWidgetState($ZSIQWidgetUI.F_WINDOW),n.istrigmsg)return;i.$Support.Util.handleBotTriggers(e),e.options&&(e.options=JSON.parse(e.options)),n.handleBotTrigger({msg:e});try{$UTSHandler.updateAction({type:"7"})}catch(t){}}catch(t){o(9,e)}},getAPIValuesForUTS:function(){var t=$ZSIQUtil.getAPIValues(),e=$ZSIQChat.getWidgetData(),a=$ZSIQUtil.formWidgetObject(e.widgetobj);return t.name=t.name||a.visitorname,t.email=t.email||a.visitoremail,t},setTrackedfrommailchimp:function(t){$ZSIQChat.istrackedfrommailchimp=t},isTrackedfrommailchimp:function(){return $ZSIQChat.istrackedfrommailchimp},getUTSSID:function(){return $ZSIQUTS.getUTSSID()},getUTSName:function(){return $ZSIQUTS.getUTSName()}}}();var $ZSIQUTS=$ZSIQUTS||function(p){var v,h,s,b,c,y,T,o,r,t,a=0,d=1,l=2,n=0,e=1,i=-1,u=d,f=function(e,t){var n=t?"ws":"http";return!e&&e.location?n+"://":e.location.protocol?-1==e.location.protocol.indexOf("http")&&e.parent&&e.parent!=e?f(e.parent,t):-1!=e.location.protocol.indexOf("https")?n+"s://":n+"://":f(e.parent,t)},m={net:{},util:{},moninterval:1e4},g=(V=navigator.userAgent,X=V.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+[^\s|\$]+)/i)||[],/trident/i.test(X[1])?"IE "+((G=/\brv[ :]+(\d+)/g.exec(V)||[])[1]||""):"Chrome"===X[1]&&null!=(G=V.match(/\b(OPR|Edge)\/(\d+)/))?G.slice(1).join(" ").replace("OPR","Opera"):(X=X[2]?[X[1],X[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(G=V.match(/[v|V]ersion\/(\d+[^\s|\$]+)/i))&&X.splice(1,1,G[1]),X.join(" "))),S=!1;/ios 10.1/i.test(g)&&(S=!0),navigator.userAgent.match(/Lumia.*/)&&(S=!0);var k=function(){return t},w=function(e){t=e};m.seqmsg={servercount:-1,clientcount:-1,isconnectionmade:!1,maxexpirytime:6e5,maxdelay:6e4},m.seqmsg.init=function(e){e||0==e||(e=-1),m.seqmsg.servercount=e,m.seqmsg.getSequenceNo(),-1==m.seqmsg.clientcount&&(m.seqmsg.clientcount=e)},m.seqmsg.getServerUpdatedcount=function(){return m.seqmsg.servercount},m.seqmsg.updateServerUpdatedcount=function(e){e||0==e||(m.seqmsg.servercount=-1),m.seqmsg.servercount=e},m.seqmsg.getSequenceNo=function(){return-1==m.seqmsg.clientcount&&(m.seqmsg.clientcount=m.seqmsgdb.getSequenceNumber(!0)),m.seqmsg.clientcount},m.seqmsg.incrementSequenceNo=function(){m.seqmsg.clientcount++},m.seqmsg.enroll=function(e,t){if(m.seqmsg.isconnectionmade){m.seqmsg.incrementSequenceNo();var n=m.seqmsgdb.getFromDB(),i={};i.data=e,i.time=(new Date).getTime()+m.seqmsg.maxexpirytime,n[m.seqmsg.clientcount]=i,m.seqmsgdb.updateInDB(n,m.seqmsg.maxexpirytime)}},m.seqmsg.asyncResend=function(t){if(m.seqmsg.isconnectionmade&&t){var e="";try{e=t.shift()}catch(e){m.notifier.doLog("Exception array shift -> "+e.message+" stack -> "+e.stack+" name -> "+e.name+" missedseq -> "+t)}if(e){var n=m.seqmsgdb.getFromDB()[e];if(n){var i=n.data;m.notifier.sendData(i,void 0,!1),m.seqmsg.clear(e)}setTimeout(function(){m.seqmsg.asyncResend(arguments[0])},0,t)}}},m.seqmsg.clear=function(e){var t=m.seqmsgdb.getFromDB();e?delete t[e]:t={},m.seqmsgdb.updateInDB(t,m.seqmsg.maxexpirytime)},m.seqmsgdb={},m.seqmsgdb.getFromDB=function(e){var t=$ZSIQUTS.getFromSession("seq_msgs")||"{}";return t=JSON.parse(t),e?t[e]||{}:t},m.seqmsgdb.getSequenceNumber=function(e){var t,n=m.seqmsgdb.getFromDB();for(var i in n)i=parseInt(i),t||(t=i),e?t<i&&(t=i):i<t&&(t=i);return t||-1},m.seqmsgdb.updateInDB=function(e,t){$ZSIQUTS.storeInSession("seq_msgs",JSON.stringify(e),t)};var q=function(){try{return!!p.sessionStorage&&(sessionStorage.setItem("quota_test","1"),sessionStorage.removeItem("quota_test"),!0)}catch(e){}return!1},I=function(){try{return!!p.localStorage&&(localStorage.setItem("quota_test","1"),localStorage.removeItem("quota_test"),!0)}catch(e){}return!1},U=function(e,t,n){e=C(e);var i=new Date;n=n||864e5,i.setTime(i.getTime()+n);var o=e+"= "+t+";expires= "+i.toGMTString();o+=";path=/";try{var r=$UTSHandler.getDomain();r&&(document.cookie=o),o+=r?";domain="+r:""}catch(e){}document.cookie=o},$=function(e,t,n){if(!I())return!1;e=C(e);var i=JSON.parse(localStorage.utsdb||"{}"),o={};return o[e]=t,n&&(o.ttl=n,o.time=(new Date).getTime()),i[e]=o,localStorage.utsdb=JSON.stringify(i),!0},O=function(e){if(!I())return!1;e=C(e);var t=JSON.parse(localStorage.utsdb||"{}"),n=t[e];return n?n.ttl&&n.ttl+n.time<(new Date).getTime()?(delete t[e],localStorage.utsdb=JSON.stringify(t),null):n[e]:null},_=function(e){e=C(e),e+="=";var t=document.cookie.indexOf(e),n="";return-1!==t&&-1!==(n=document.cookie.substr(t+e.length)).indexOf(";")&&(n=n.substring(0,n.indexOf(";"))),n},C=function(e){return h+"-"+e},E=function(e){return Array.isArray&&Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)||"[object Array Iterator]"===Object.prototype.toString.call(e)},N=null,Q=null,Z=0,F=!1,W=!1,x=!1,D=f(p),M=i;m.net={disabledbyserver:!1,fallbacktimer:-1,monitortimer:-1,reconnectwhenactive:!1,lpt:0,writeenabled:!1,connAlive:function(){m.net.lpt=new Date},connMonitor:function(){A.logFine("inside connMonitor");var e=new Date;try{e-m.net.lpt>3*m.moninterval&&("hidden"!=B.cur_st?F||W?!1===F&&m.net.reconnect():m.net.reconnect():A.logFine("skipped by tab status")),m.util.dbconsistencychecked||m.net.disabledbyserver||m.util.checkConsistency()}finally{m.net.scheduleMonitor()}},scheduleMonitor:function(){A.logFine("inside scheduleMonitor"),clearTimeout(m.net.monitortimer),m.net.monitortimer=setTimeout(function(){m.net.connMonitor()},m.moninterval)},reconnect:function(){A.logFine("inside reconnect - $ZUserStatus.isactive : "+L.isactive),(L.isactive||null==L.isactive)&&(L.init(),m.net.disableConnection(),m.init())},scheduleFallback:function(){clearTimeout(m.net.fallbacktimer),m.net.fallbacktimer=setTimeout(m.net.fallbackToCR,2e4)},unscheduleFallback:function(){clearTimeout(m.net.fallbacktimer)},fallbackToCR:function(){J._WEBSOCK.readyState===J.readystate.OPEN&&J.initialized||(J.disableConnection(),R.init())},handleUTSEvent:function(e){var t=e.d;switch(e.o){case 0:J.setInitialized(),m.net.writeenabled=!0,m.seqmsg.isconnectionmade=!0,m.notifier.notifyQueued(),$UTSHandler.setUVID($ZSIQUTS.get("_zldt"));try{$ZSIQUTSAction.handle(t.triggers)}catch(e){m.notifier.doLog("Exception in triggering message - "+e.message+" stack - "+e.stack+" name:"+e.name)}x=!0,t.isnewconnection=!0,z.handleConnect(t),$ZSIQUTSAction.includeBeforeSubmit(t),b.customaction&&m.notifier.updateCustomAction(b.customaction),t.sseqno&&m.seqmsg.init(parseInt(t.sseqno)),m.notifier.identifyByCampaign(),m.notifier.doLog(" isLocalstorage: "+I()+" isSessionStorage: "+q()+" Tab status - "+B.latime+" - "+B.cur_st),o=t.name,r=t.token;break;case 1:J.ping(),Q=t._zldp,N=t._zldt,y=t.sid,k()&&$ZSIQUTS.storeInSession("sid",y),$UTSHandler.setUVID(N),m.net.writeenabled=!0,m.seqmsg.isconnectionmade=!0,m.notifier.notifyQueued(),x=!0,z.handleConnect(t),$ZSIQUTSAction.handle(t.triggers),$ZSIQUTSAction.includeBeforeSubmit(t),t.sseqno&&m.seqmsg.init(parseInt(t.sseqno)),$UTSHandler.isTrackedfrommailchimp()||m.notifier.identifyByCampaign(),o=t.name,r=t.token;break;case 2:Q=t._zldp,N=t._zldt,y=t.sid;try{Q=Q?Q.trim():Q,N=N?N.trim():N,y=y?y.trim():y,$ZSIQUTS.store("_zldp",Q,63072e6),$ZSIQUTS.store("_zldt",N,864e5),k()&&$ZSIQUTS.storeInSession("sid",y)}catch(e){}x=!0,m.util.checkMode(l)||m.notifier.acknowledge();break;case 3:$ZSIQUTSAction.handle(t.triggers);break;case 4:if(m.util.checkMode(l))return;if(t&&t.seqno)return void m.seqmsg.clear(t.seqno);if(t&&t.sseqno){if(m.seqmsg.updateServerUpdatedcount(parseInt(t.sseqno)),t.missedseq){var n=JSON.parse(t.missedseq);m.seqmsg.asyncResend(n)}return}break;case 100:t.uvid=$ZSIQUTS.get("_zldt")||N,$UTSHandler.handleTrackChat(t);break;case 101:$ZSIQUTS.handleCustomAction(t);break;case 102:$ZSIQUTSAction.handle(t.triggers);break;case-1:if(m.util.checkMode(l))return;t&&t.issidclear&&$ZSIQUTS.removeFromSession("sid");var i=t&&t.duration||"";m.net.disableConnection(i),m.net.disabledbyserver=!0}},handleResponse:function(e,t){if(W=!0,e)if((e=JSON.parse(e))&&e.seqno)m.seqmsg.clear(e.seqno);else if(e&&e.sseqno){if(m.seqmsg.updateServerUpdatedcount(parseInt(e.sseqno)),e.missedseq){var n=JSON.parse(e.missedseq);m.seqmsg.asyncResend(n)}}else if(!t&&p.SharedWorker&&A.sendResponseToOthers(e),E(e))for(var i=0;i<e.length;i++)this.handleUTSEvent(e[i]);else this.handleUTSEvent(e)},scheduleRecon:(P=[30,60,90,120,300],K=0,H=-1,function(e,t){var n,i;e?P[K=0]=(n=5,i=30,Math.floor(Math.random()*(i-n+1)+n)):K<P.length-1&&K++;var o=P[K];clearTimeout(H),H=setTimeout(t,1e3*o)}),goOffline:function(){if(3<=Z||M===n){3<Z&&(W=!1);var e=!(F=!0);3!==Z&&M!==n||(e=!0),M=i,this.scheduleRecon(e,this.reconnect)}},requestSuccess:function(){(3<=Z||M===e)&&(M=i,F=!1)},disableConnection:function(e){if(F=!0,e){var t=60*e*1e3,n=(new Date).getTime()+t;$ZSIQUTS.store("nextrecon",n),setTimeout(function(){A.logFine("disable connect settimeout"),m.init()},t)}m.util.checkMode(d)?J.disableConnection():m.util.checkMode(a)&&R.disableConnection(),m.net.writeenabled=!1,p.$UTSConnector&&$UTSConnector.util.net.terminate()}},m.util={dbconsistencychecked:!1,offlinetimer:-1,addOnOffEvent:function(e,t){document.body.attachEvent?document.body.attachEvent("on"+e,t):p.addEventListener&&p.addEventListener(e,t)},checkMode:function(e){return u===e},composeUrl:function(){var i=[];function e(e,t){var n;t&&i.push(e+"="+encodeURIComponent((n=t)?n.replace(/^\s+|\s+$/gm,""):n))}try{Float.stopBlinking()}catch(e){}var t=$ZSIQUtil.getNavigationObj(p),n=t.current_page,o=t.page_title;try{var r=$zohosq.visitor.onNavigate({url:n,title:o});r&&(n=r.url||n,o=r.title||o)}catch(e){}var a=$ZSIQUtil.getURLParameterByName("mc_cid"),s=$ZSIQUtil.getURLParameterByName("mc_eid");if(null==a&&null==s){var c=_("mailchimp");if(c){var d=JSON.parse(c);b.name=d.name,b.email=d.email}}var l=t.referer,u={"x-e":""+v,"x-s":""+h,cpage:n,"x-sid":y,ptitle:o,_zldp:$ZSIQUTS.get("_zldp"),_zldt:$ZSIQUTS.get("_zldt"),name:b.name,email:b.email?b.email.toLowerCase():"",phone:b.phone,localtime:function(e){try{return(new Date).toTimeString().split(" ").slice(1).join(" ")}catch(e){}return""}(),gmttime:function(){try{return(new Date).toTimeString().split(" ").slice(1,2)[0]}catch(e){}return""}(),docref:l.substring(0,3072),resolution:"screen"in p&&void 0!==screen.width&&void 0!==screen.height?screen.width+"x"+screen.height:""};$ZSIQUtil.getAPILanguage()?u.lang_embed=$ZSIQUtil.getAPILanguage():T?u.lang_embed=T:$ZSIQUtil.getBrowserLanguage()&&(u.lang_embed=$ZSIQUtil.getBrowserLanguage());try{var f=(new Date).getTime(),m=$ZSIQUTS.getFromSession("con_id");m?f=m:$ZSIQUTS.storeInSession("con_id",f),u.con_id=""+f}catch(e){}for(var g in u.referer=null,$ZSIQUTS.getFromSession("siq_isdirect")||($ZSIQUTS.getFromSession("siq_ref")?u.referer=$ZSIQUTS.getFromSession("siq_ref"):l?(l=l.substring(0,3072),$ZSIQUTS.storeInSession("siq_ref",l),u.referer=l):$ZSIQUTS.storeInSession("siq_isdirect",!0)),u)u.hasOwnProperty(g)&&e(g,u[g]);try{Float.blinkTitle(Float.blinkmsg)}catch(e){}if(x)e("recon","true");else if(b.info){var S=b.info;"object"==typeof S&&(S=JSON.stringify(S)),e("cinfo",S)}return i.join("&")},bindEvents:function(){try{function t(){var e={},t=$ZSIQUtil.getNavigationObj(p);if(e.cpage=t.current_page,e.ptitle=t.page_title,e.referer=t.referer,p.$UTSConnector){var n=$History.getList();n&&0!=n.length?($UTSConnector.util.db.storeInStorage({type:"localStorage",key:"h_cpage",value:e.cpage}),$History.push({referer:e.referer,cpage:e.cpage,title:e.ptitle}),$UTSConnector.util.net.checkHistory()):m.notifier.updateNavigtion(e)}else m.notifier.updateNavigtion(e)}i=p.history,o=i.pushState,i.pushState=function(e){var t=o.apply(i,arguments);return"function"==typeof i.onpushstate&&i.onpushstate(),t},j(p,"hashchange",t),p.history.onpushstate=function(e){try{t()}catch(e){}},-1!==navigator.userAgent.indexOf("Firefox")&&(p.onbeforeunload=(n=p.onbeforeunload,function(e){return m.net.disableConnection(),"function"==typeof n?n():e.returnValue?e.returnValue:void 0}))}catch(e){}var n,i,o},checkConsistency:function(){N===$ZSIQUTS.get("_zldt")&&Q===$ZSIQUTS.get("_zldp")||(y=null,m.net.reconnect()),m.util.dbconsistencychecked=!0}},m.util.addOnOffEvent("online",function(){m.util.offlinetimer&&-1!=m.util.offlinetimer?clearTimeout(m.util.offlinetimer):L.isactive?m.net.reconnect():m.net.reconnectwhenactive=!0,M=e}),m.util.addOnOffEvent("offline",function(){m.util.offlinetimer&&-1!=m.util.offlinetimer&&clearTimeout(m.util.offlinetimer),m.util.offlinetimer=setTimeout(function(){M=n,m.net.reconnectwhenactive=!1,m.net.goOffline(),m.util.offlinetimer=-1},2e3)}),m.notifier={qdata:[],maxsize:100,lastupdatedinfo:{}},m.notifier.notifyServer=function(e,t){p.$UTSConnector?$UTSConnector.util.net.trackEvent(e):m.util.checkMode(l)||(m.net.writeenabled||t)&&(J._WEBSOCK.readyState===J.readystate.OPEN||m.util.checkMode(a))?m.notifier.sendData(e,void 0,!0):m.notifier.qdata.length>m.notifier.maxsize||(m.notifier.removeIfExists(e),m.notifier.qdata.push(e))},m.notifier.removeIfExists=function(e){try{for(var t=0;t<m.notifier.qdata.length;t++)JSON.stringify(m.notifier.qdata[t])==JSON.stringify(e)&&m.notifier.qdata.splice(t,1)}catch(e){}},m.notifier.waitForSocketConnection=function(e,t){setTimeout(function(){e.readyState!==J.readystate.OPEN?m.notifier.waitForSocketConnection(e,t):void 0!==t&&t()},500)},m.notifier.sendData=function(e,t,n){if(m.seqmsg.enroll(e,n),m.util.checkMode(d)){var i=e;m.seqmsg.isconnectionmade&&((i={}).data=e,i.seqno=m.seqmsg.getSequenceNo()),J._WEBSOCK.readyState===J.readystate.OPEN?J._WEBSOCK.send(JSON.stringify(i)):m.notifier.waitForSocketConnection(J._WEBSOCK,function(){J._WEBSOCK.send(JSON.stringify(i))})}else m.util.checkMode(a)?R.bind(JSON.stringify(e),t):m.util.checkMode(l)&&A.send(e)},m.notifier.updateNavigtion=function(e){this.notifyServer({opr:"nav",navdata:e})},m.notifier.updateCustomAction=function(e){this.notifyServer({opr:"customaction",event_time:""+(new Date).getTime(),action:e});try{delete $zohosq.values.customaction,delete $ZSIQUtil.getAPIValues().customaction}catch(e){}},m.notifier.doLog=function(e){this.notifyServer({opr:"dolog",logdata:e})},m.notifier.enrollInfo=function(e,t){if(e&&t){var n={};n[e]=t,n.uptime=(new Date).getTime(),m.notifier.lastupdatedinfo[e]=n}},m.notifier.isUpdated=function(e,t){var n=m.notifier.lastupdatedinfo[e];return!!n&&(n[e]==t&&((new Date).getTime()-n.uptime<6e4||(delete m.notifier.lastupdatedinfo[e],!1)))},m.notifier.updateGuessInfo=function(e){var t={},n={};(e=e.details||{}).isError&&(t.isError=e.isError),e.name&&(t.name=e.name),e.email&&(t.email=e.email.toLowerCase()),e.phone&&(t.phone=e.phone),e.company&&(n.company=e.company),this.notifyServer({opr:"updateguessinfo",detail:t,cinfo:JSON.stringify(n)})},m.notifier.updateInfo=function(e){var t,n,i=e.name;e.email&&(t=e.email.toLowerCase()),e.phone&&$ZSIQUtil.isValidPhoneNo(e.phone)&&(n=e.phone),m.notifier.isUpdated("name",i)&&(i=void 0),m.notifier.isUpdated("email",t)&&(t=void 0),m.notifier.isUpdated("phone",n)&&(n=void 0),(e.info||i||t||n)&&(m.notifier.enrollInfo("name",i),m.notifier.enrollInfo("email",t),m.notifier.enrollInfo("phone",n),this.notifyServer({opr:"updateinfo",name:i,email:t,phone:n,cinfo:e.info}))},m.notifier.identifyByCampaign=function(){var e=$ZSIQChat.getWidgetData();if($ZSIQUtil.formWidgetObject(e.widgetobj).ismailchimpenabled){var t=$ZSIQUtil.getURLParameterByName("mc_cid"),n=$ZSIQUtil.getURLParameterByName("mc_eid");if(null!=t&&null!=n)U("mc_cid",t),U("mc_eid",n);else _("mailchimp")||(t=_("mc_cid"),n=_("mc_eid"));t&&n&&(this.notifyServer({opr:"identifybycampaign",campaigndata:{mc_cid:t,mc_eid:n}}),$UTSHandler.setTrackedfrommailchimp(!0))}},m.notifier.updateStatus=function(e){if(e)try{this.notifyServer({opr:"status",status:""+e})}catch(e){}},m.notifier.acknowledge=function(){var e=$ZSIQUTS.get("_zldt");if(e){var t={opr:"ack",uvid:e};m.notifier.notifyServer(t,!0)}},m.notifier.notifyQueued=function(){m.notifier.qdata.length&&m.net.writeenabled&&(m.notifier.sendData(m.notifier.qdata,!0,!0),m.notifier.qdata=[])};var z={handleConnect:function(e){e.chid?(e.uvid=N,e,$UTSHandler.handleTrackChat(e)):$UTSHandler.handleUTSConnect(e)}},B={cur_st:"visible",is_init:!1};B.latime=(new Date).getTime(),B.init=function(){if(!B.is_init){B.is_init=!0;var t,n=["moz","ms","o","webkit"],e=!0,i=function(){for(var e=0;e<n.length;e++)if(a(n[e])in document)return n[e];return null}(),o=a(i),r=(i||"")+"visibilitychange";document.addEventListener(r,d,!1),document.addEventListener("focus",function(){d(!0)},!1),document.addEventListener("blur",function(){d(!1)},!1),p.addEventListener("focus",function(){d(!0)},!1),p.addEventListener("blur",function(){d(!1)},!1),document.addEventListener("mousemove",u,!1),document.addEventListener("mousedown",u,!1),document.addEventListener("keypress",u,!1),document.addEventListener("DOMMouseScroll",u,!1),document.addEventListener("mousewheel",u,!1),document.addEventListener("touchmove",u,!1),document.addEventListener("MSPointerMove",u,!1),l()}function a(e){return e?e+"Hidden":"hidden"}function s(){e||(e=!0,B.cur_st="visible")}function c(){e&&(e=!1,B.cur_st="hidden")}function d(e){return"boolean"==typeof e?e?s():c():document[o]?c():s()}function l(){t=p.setTimeout(f,1e4)}function u(e){p.clearTimeout(t),B.latime=(new Date).getTime(),s(),l()}function f(){36e5<(new Date).getTime()-B.latime&&c(),l()}};var L={updateIdle:function(){var e=L;if(e.isactive){m.notifier.updateStatus(e.idle),e.isactive=!1;try{$zohosq._invoke("visitor.idle",!0)}catch(e){}}},init:function(){if(B.init(),void 0===this.isactive){var e=b.idletime;e&&!isNaN(e)&&(e=60*e*1e3),this.idletime=e||9e5,this.timer=-1,this.online=1,this.idle=4,this.isactive=!0;for(var t=["keydown","keypress","mouseout","mouseenter","click"],n=0;n<t.length;n++)j(document,t[n],L.active);this.active()}},active:function(){var e=L;if(e.updateTimer(),!e.isactive){e.isactive=!0,m.net.reconnectwhenactive?(m.net.reconnectwhenactive=!1,F=!1):m.seqmsg.isconnectionmade?m.notifier.updateStatus(e.online):m.net.reconnect();try{$zohosq._invoke("visitor.active",!0)}catch(e){}}},updateTimer:function(){var e=L;clearTimeout(e.timer),e.timer=setTimeout(function(){L.updateIdle()},L.idletime)}},j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!0)},A={initialized:!1,workerid:0,utsworkerurl:null,mastertabworkerid:0,utsworker:null,latimeupdater:null,lapolltimer:null,connecttimer:null,_enablelog:!1,logFine:function(e){A._enablelog&&console.log("%c "+e,"color: blue")},logTrace:function(e){A._enablelog&&console.log("%c "+e,"color: red")},logInfo:function(e){A._enablelog&&console.log("%c "+e,"color: green")},logObj:function(e){A._enablelog&&console.log(e)},init:function(e){m.seqmsg.isconnectionmade=!1,A.logFine("inside init funciton"),A.utsworkerurl=$ZSIQUTS.getFromLocalStorage("sw_url"),A.mastertabworkerid=e?A.workerid=0:A.workerid=-1,u=l,"off"!==b.tracking&&A.initOrStartWorker(e)},initOrStartWorker:function(e){if(A.logFine("inside initOrStartWorker funciton"),A.utsworkerurl)try{A.initWorker(e)}catch(e){A.utsworkerurl=null,$ZSIQUTS.storeInLocalStorage("sw_url","",-1e3)}else A.initWorkerBlob(e)},initWorkerBlob:function(e){A.logFine("inside initWorkerBlob funciton");var t=document.createElement("script");t.type="text/worker",t.id="utsworker",t.innerHTML=A.getWorkerScript(),document.getElementsByTagName("body")[0].appendChild(t);var n=new Blob([document.querySelector("#utsworker").textContent],{type:"text/javascript"}),i=p.URL.createObjectURL(n);$ZSIQUTS.storeInLocalStorage("sw_url",i,36e5),A.utsworkerurl=i,A.initOrStartWorker(),document.getElementById("utsworker").remove()},initWorker:function(e){A.utsworker=new SharedWorker(A.utsworkerurl),A.utsworker.port.start(),A.utsworker.port.onmessage=function(e){try{A.onMessage(JSON.parse(e.data))}catch(e){m.notifier.doLog("Exception in SW: message - "+e.message+" stack - "+e.stack)}},A.scheduleConnectMonitor()},getWorkerScript:function(){return"\n var connectedports = {}; /* To store list of ports with id as key*/ \n var mastertabid = -1;\n onconnect = function(event) {\n var port = event.ports[0];\n var formatted_port = construstPortObject(port);\n port.start();\n port.addEventListener('message', function(event) { listenForMessage(event); });\n notifyTabs(port, {operation : 'connect', payload : constructPayLoad(['id', 'mastertabid'], [formatted_port.id, mastertabid])});\n if (mastertabid == -1) {\n mastertabid = formatted_port.id;\n notifyTabs(port, { operation : 'makemaster' });\n }\n };\n var enrollConnected = function(portobj){\n if (!portobj || Object.keys(portobj).length == 0) {\n throw 'exception';\n }\n var id = portobj.id;\n var port = portobj.port;\n if (!id || !port) {\n throw 'exception';\n }\n do { // To prevent same ID getting overrided.\n if (!isKeyExists(id, connectedports)) {\n break;\n }\n id--;\n } while(true);\n connectedports[id] = portobj;\n portobj.id = id;\n return portobj;\n };\n var isKeyExists = function(key, hash) {\n if (!key || !hash) {\n return false;\n }\n var keylist = Object.keys(hash);\n return (keylist.indexOf('' + key) > -1);\n };\n var listenForMessage = function(event) {\n var port = getPortFromClientEvent(event);\n var data = {operation : event.data.operation, payload : JSON.parse(event.data.payload)};\n if (!port) {\n return;\n }\n switch(data.operation) {\n case 'tomaster':\n if (mastertabid == -1) {/* slave tab will resend the message. Bcoz ack not recieved. */\n return;\n }\n port = connectedports[mastertabid].port;\n break;\n case 'lapoll':\n connectedports[data.payload.id].port.latime = new Date().getTime();\n data.payload.mastertabid = mastertabid;\n port = connectedports[data.payload.id].port;\n if (mastertabid == -1) {\n mastertabid = data.payload.id;\n notifyTabs(port, { operation : 'makemaster' });\n }return;\n case 'tononmaster':\n for (var workerid in connectedports) {\n if (mastertabid == workerid) {\n continue;\n }\n notifyTabs(connectedports[workerid].port, data);\n }\n return;}\n if (port == -1) {\n notifyAllTabs(data);\n }\n else {\n notifyTabs(port, data);\n }\n };\n var notifyAllTabs = function(data){\n notifyTabs('-1', data);\n };\n var notifyTabs = function(port, data) {\n if (port == '-1') {\n for (var workerid in connectedports) {\n notifyTabs(connectedports[workerid].port, data);\n }\n }\n else {\n port.postMessage(JSON.stringify(data));\n }\n };\n var getPortFromClientEvent = function(event) {\n var data = event.data;\n var operation = data.operation;\n var payload = JSON.parse(data.payload);\n var clientworkerid = payload.id;\n if (!clientworkerid) {\n throw 'client id not not event';\n }\n if (!connectedports[clientworkerid]) {\n throw 'client id not registered with worker';\n }\n if (payload.isNotifyTabs) {\n return -1;\n }\n return connectedports[clientworkerid].port;\n };\n var construstPortObject = function(port) {\n var id = new Date().getTime();\n var customportobject = {};\n customportobject.port = port;\n customportobject.id = id;\n customportobject.connectedtime = new Date().getTime();\n return enrollConnected(customportobject);\n };\n var constructPayLoad = function(keys, values) {\n var payload = {};\n if (!keys || !values){\n return payload;\n }\n if (keys.length != values.length) {\n return payload;\n }\n for (var keyindex = 0; keyindex < keys.length; keyindex++) {\n payload[keys[keyindex]] = values[keyindex];\n }\n return payload;\n };\n var checkWorkerAlive = function(data) {\n for (var workerid in connectedports) {\n if (connectedports[workerid].port.latime < (new Date().getTime() - 8000)) {\n /* Mark as expired. B'coz last access time not updated. */\n delete connectedports[workerid];\n if (mastertabid == workerid) {\n mastertabid = -1;\n }\n } else {\n connectedports[workerid].port.postMessage(JSON.stringify({operation : 'alive', payload : {'mastertabid' : mastertabid, 'connectedports' : JSON.stringify(connectedports)}}));\n }\n }\n setTimeout(function () {\n checkWorkerAlive();\n }, 5000);\n };\n checkWorkerAlive();\n"},scheduleConnectMonitor:function(){A.unscheduleConnectMonitor(),A.connecttimer=setTimeout(function(){$ZSIQUTS.storeInLocalStorage("sw_url","",-1e3),A.init(!1)},500)},unscheduleConnectMonitor:function(){clearTimeout(A.connecttimer)},onMessage:function(e){A.logInfo("onMessage -"+JSON.stringify(e));var t=e.operation,n=e.payload;if(t)switch(t){case"connect":m.net.connAlive(),L.init(),A.unscheduleConnectMonitor(),A.logFine("connected to worker - your id:"+n.id);var i=n.id,o=n.mastertabid,r=!1;if(0==A.workerid&&(r=!0),A.workerid=i,A.mastertabworkerid=o,A.initAccessTimePoll(),r&&-1!=A.mastertabworkerid&&A.workerid!=A.mastertabworkerid){var a={},s=$ZSIQUtil.getNavigationObj(p);a.cpage=s.current_page,a.ptitle=s.page_title,a.referer=s.referer,m.notifier.updateNavigtion(a)}break;case"makemaster":A.mastertabworkerid=A.workerid,m.init(!1,!0);break;case"alive":A.workerid!=A.mastertabworkerid&&m.net.connAlive();break;case"tomaster":if(0!=A.workerid&&A.workerid!=A.mastertabworkerid)return;n=n.data,m.notifier.notifyServer(n);break;case"tononmaster":m.net.handleResponse(n.data,!0)}},initAccessTimePoll:function(){A.clearAccessTimepoll(),A.lapolltimer=setInterval(function(){A.pollLATime()},5e3)},clearAccessTimepoll:function(){clearTimeout(A.lapolltimer)},pollLATime:function(){A.sendMessage("lapoll",{id:A.workerid})},send:function(e){A.sendMessage("tomaster",{id:A.workerid,data:e})},sendResponseToOthers:function(e){A.sendMessage("tononmaster",{id:A.workerid,data:JSON.stringify(e)})},sendMessage:function(e,t){e&&t&&(A.utsworker?(A.logTrace("sendMessage "+JSON.stringify({operation:e,payload:JSON.stringify(t)})),A.utsworker.port.postMessage({operation:e,payload:JSON.stringify(t)})):A.logTrace("utsworker itself not initialised"+A.utsworker))},disableConnection:function(){m.net.disableConnection()},constructPayload:function(e,t){var n={};if(n.id=workerid,n.isNotifyTabs=!1,isNotifyOtherTab&&(n.isNotifyTabs=!0),!e||Object.keys(e).length<1)return n;for(var i in e)n[i]=e[i];return n}},J={id:null,wsScheme:f(p,!0),_WEBSOCK:{},pingTimer:{},recontimer:null,readystate:{CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},initialized:!1,init:function(){if(m.seqmsg.isconnectionmade=!1,u=d,"off"!==b.tracking){m.net.scheduleFallback();try{var e=J.wsScheme+s+"/watchws?";e+=m.util.composeUrl();var t=$ZSIQUTS.getFromSession("connection_count")||0;t=parseInt(t),t++,$ZSIQUTS.storeInSession("connection_count",JSON.stringify(t)),e+="&connection_count="+t;try{"WebSocket"in p&&void 0!==p.WebSocket?J._WEBSOCK=new WebSocket(e):"MozWebSocket"in p&&(J._WEBSOCK=new MozWebSocket(e))}catch(e){return A.logFine("Exception on new websocket "+e),clearTimeout(m.net.fallbacktimer),void(m.net.fallbacktimer=setTimeout(m.net.fallbackToCR,0))}A.logFine("BEFORE WS.id - "+J.id),J._WEBSOCK.id=(new Date).getTime(),J.id=J._WEBSOCK.id,A.logFine("WS.id - "+J.id),J._WEBSOCK.onopen=function(e){J.onOpen(e)},J._WEBSOCK.onclose=function(e){A.logFine(" WS._WEBSOCK.onclose - "+this.id),A.logObj(e),J.id===this.id&&(J.onClose(e),m.seqmsg.isconnectionmade=!1)},J._WEBSOCK.onerror=function(e){J.onError(e)},J._WEBSOCK.onmessage=function(e){try{J.onMessage(e)}catch(e){m.notifier.doLog("Exception in WebSocket: message - "+e.message+" stack - "+e.stack+" name:"+e.name)}}}catch(e){}}},onMessage:function(e){A.logFine(" WS.onMessage - "+JSON.stringify(e)+" WS.initialized -> "+J.initialized+" WS.id -> "+J.id),m.net.connAlive(),Z=0,m.net.requestSuccess(),J.initialized||m.net.scheduleFallback();var t=e.data;if("//1//"!==t){if(""!==t){if(","===t)return A.logFine("data = ,"),void J.init();m.net.handleResponse(t),clearTimeout(J.pingTimer),J.pingTimer=setTimeout(J.pingcb,1e4)}}else J.setInitialized()},pingcb:function(){if(15e3<new Date-m.net.lpt)try{J._WEBSOCK.readyState===J.readystate.OPEN&&J._WEBSOCK.send(JSON.stringify({data:"-",seqno:m.seqmsg.getSequenceNo()}))}catch(e){m.notifier.doLog("Exception in WebSocket: ping - "+e.message+" stack - "+e.stack+" name:"+e.name)}J.pingTimer=setTimeout(J.pingcb,1e4)},onOpen:function(e){A.logFine("inside ws.onopen - WS.recontimer - must be cleared"),clearTimeout(J.recontimer),L.init()},onError:function(e){A.logFine("inside ws.onError - evt -> "+JSON.stringify(e)),A.logObj(e)},onClose:function(e){if(A.logFine("inside ws.close - evt -> "+JSON.stringify(e)),m.util.checkMode(d)){Z++,m.net.goOffline(),clearTimeout(J.recontimer);var t=(new Date).getTime()%20;J.recontimer=setTimeout(function(){J.bind()},1e3*t)}},bind:function(){!0!==F&&m.util.checkMode(d)&&(J._WEBSOCK.readyState!==J.readystate.CONNECTING&&J._WEBSOCK.readyState!==J.readystate.OPEN||(A.logFine("websocet closed - WS._WEBSOCK.readyState - "+J._WEBSOCK.readyState),J._WEBSOCK.close(),m.seqmsg.isconnectionmade=!1),clearTimeout(J.recontimer),A.logFine("inside ws.bind"),J.init(),m.net.connAlive())},disableConnection:function(){try{A.logFine("websocket closed - by disableconnection"),J._WEBSOCK.close(),m.seqmsg.isconnectionmade=!1}catch(e){}},ping:function(){m.util.checkMode(d)&&(J.initialized=!1,J._WEBSOCK.readyState===J.readystate.OPEN&&J._WEBSOCK.send("--1--"))},setInitialized:function(){m.util.checkMode(d)&&(J.initialized=!0,m.net.unscheduleFallback())}},R={lastevttime:0,reqobjs:[],fullTripTimer:null,respTimer:null,ajax:function(e){var t,n=e.type||"GET",i=e.async||!0,o=e.onSuccess||function(){},r=e.onFailure||function(){},a=e.url,s=e.options||{};if("withCredentials"in(t=new XMLHttpRequest)){(t=new XMLHttpRequest).open(n,a,i),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),s.ajaxreq=t;try{t.onreadystatechange=function(){4===t.readyState&&(200===t.status?o(s):r(s))}}catch(e){throw clearTimeout(R.respTimer),R.respTimer=setTimeout(function(){R.bind()},1e4),Z++,m.net.goOffline(),e}}else if("undefined"!=typeof XDomainRequest){(t=new XDomainRequest).open("GET",a),s.ajaxreq=t;try{t.onprogress=function(){},t.ontimeout=function(){},t.onload=function(){o(s)},t.onerror=function(){r(s)}}catch(e){throw clearTimeout(R.respTimer),R.respTimer=setTimeout(function(){R.bind()},1e4),Z++,m.net.goOffline(),e}}return setTimeout(function(){t.send(e.qp)},0),t},sendReq:function(e,t){var n=(new Date).getTime(),i={url:e,qp:t,type:"POST",onSuccess:function(e){var t=e.evtstarttime,n=e.ajaxreq.responseText;if(!(4e4<R.lastevttime-t&&""===n)&&(m.net.handleResponse(n),m.seqmsg.isconnectionmade&&m.net.connAlive(),m.net.requestSuccess(),Z=0,""!==n)){try{var i=JSON.parse(n);if(null!=i.sseqno)return;if(E(i))for(var o=0;o<i.length;o++){var r,a=i[o];if("4"==a.o&&(r=a.d)&&null!=r.sseqno)return}else if("4"==i.o&&(r=i.d)&&null!=r.sseqno)return}catch(e){return}R.bind()}},onFailure:function(e){var t=e.ajaxreq.status;R.reqobjs[0]&&R.reqobjs[0].abort(),clearTimeout(R.respTimer),R.respTimer=setTimeout(function(){R.bind()},1e4),500!==t&&304!==t&&404!==t&&400!==t&&(Z++,m.net.goOffline())},options:{evtstarttime:R.lastevttime=n}},o=R.ajax(i);R.reqobjs[0]=R.reqobjs[1],R.reqobjs[1]=o},init:function(){if(m.seqmsg.isconnectionmade=!1,u=a,"off"!==b.tracking){var e=D+s+"/watch",t=$ZSIQUTS.getFromSession("connection_count")||0;t=parseInt(t),t++,$ZSIQUTS.storeInSession("connection_count",JSON.stringify(t));try{R.sendReq(e,m.util.composeUrl()+"&nocache="+(new Date).getTime()+"&connection_count="+t)}catch(e){return}L.init()}},bind:function(e,t){if(!0!==F&&(null!==R.respTimer&&clearTimeout(R.respTimer),y)){var n=D+s+"/bind",i="sid="+encodeURIComponent(y)+"&nocache="+(new Date).getTime();e&&(i+="&",t&&(i+="q"),i+="data="+encodeURIComponent(e),i+="&",i+="seqno="+m.seqmsg.getSequenceNo()),m.seqmsg.isconnectionmade&&m.net.connAlive(),R.sendReq(n,i),clearTimeout(R.fullTripTimer),R.fullTripTimer=setTimeout(function(){R.bind()},2e4)}},disableConnection:function(){clearTimeout(R.fullTripTimer),clearTimeout(R.respTimer),m.seqmsg.isconnectionmade=!1}};m.init=function(e,t){A.logFine("uts -init"),e&&m.util.bindEvents();var n=!(F=!1);$ZSIQUTS.get("nextrecon")&&(n=$ZSIQUTS.get("nextrecon")-(new Date).getTime()<0),n&&(p.$UTSConnector?(setTimeout(function(){$UTSConnector.util.net.disabled_by_server&&$zohosq.tracking.on()},0),L.init()):(!t&&p.SharedWorker,!S&&"WebSocket"in p&&void 0!==p.WebSocket||"MozWebSocket"in p?(A.logFine("websocket - init"),J.init()):("withCredentials"in new XMLHttpRequest||p.XDomainRequest)&&(A.logFine("CORS - init"),R.init())))};var P,K,H,G,V,X;return{$TabStatus:B,SW:A,store:function(e,t,n){U(e,t,n),$(e,t,n)},storeInLocalStorage:$,getFromLocalStorage:O,removeFromSession:function(e){if(!q())return!1;e=C(e);var t=JSON.parse(sessionStorage.utsdb||"{}");return delete t[e],sessionStorage.utsdb=JSON.stringify(t),!0},storeInSession:function(e,t){if(!q())return!1;e=C(e);var n=JSON.parse(sessionStorage.utsdb||"{}");return n[e]=t,sessionStorage.utsdb=JSON.stringify(n),!0},get:function(e){return _(e)||O(e)},getFromSession:function(e){if(q())return e=C(e),JSON.parse(sessionStorage.utsdb||"{}")[e]},updateAction:function(e){var t={opr:"action",type:e.type};e.triggered_id&&(t.triggered_id=e.triggered_id),e.action_type&&(t.action_type=e.action_type),m.notifier.notifyServer(t)},notifyCustomEvent:function(e){var t={opr:"customevent",data:e};m.notifier.notifyServer(t)},handleApiChange:function(e,t){switch(e){case 1:if("on"===t){if(m.init(),p.$UTSConnector){var n=function(e,t){$UTSConnector.util.net.disabled_by_server?($UTSConnector.util.net.disabled_by_server=!1,$UTSConnector.util.net.monitorConnection(!0)):t<20&&setTimeout(e,2e3,e,++t)};$UTSConnector.util.net.disabled_by_server?n(n,1):setTimeout(n,1e3,n,1)}}else"off"===t&&m.net.disableConnection();break;case 2:isNaN(t)||(L.idletime=60*t*1e3,L.updateTimer());break;case 3:m.notifier.updateInfo(t);break;case 4:m.notifier.updateCustomAction(t);break;case 5:m.notifier.updateGuessInfo(t);break;case 6:!function(){try{sessionStorage.utsdb=JSON.stringify("{}")}catch(e){}try{localStorage.utsdb=JSON.stringify("{}")}catch(e){}try{for(var e=["_zldp","_zldt","nextrecon","sid","siq_ref","siq_isdirect","siq_name","siq_email","siq_phone"],t=0;t<e.length;t++){var n=e[t],i=(n=C(n))+"= ;expires= "+new Date(-1).toGMTString();i+=";path=/";try{var o=$UTSHandler.getDomain();i+=o?";domain="+o:""}catch(e){}document.cookie=i}}catch(e){}}()}},init:function(e){if(!v||e){var t=$ZSIQChat.getWidgetData(),n=$ZSIQUtil.formWidgetObject(t.widgetobj),i=t.embedobj;v=n.embedname,h=n.screenname,T=i.lang||i.language,s=n.utsserver,c=n.zldvp;var o=$ZSIQUtil.getGDPRPendingStatus(t,i,h);if(n.forcehttps&&(p.$UTSConnector?$UTSConnector.enableForceSecure():(D="https://",J.wsScheme="wss://")),b=$UTSHandler.getAPIValuesForUTS(),$ZSIQ_UTSinitialized=!0,function(){y=$ZSIQUTS.getFromSession("sid");try{p.opener&&p.parent.$ZSIQUTS.getFromSession("sid")===y&&(y="")}catch(e){}try{if(p.top!=p.self&&p.top.$ZSIQUTS&&p.top.$ZSIQUTS.getUTSSID()==$ZSIQUTS.getUTSSID())return y="",w(!1),m.notifier.doLog("loaded inside iframe tab. So, disabling data storing")}catch(e){}w(!0)}(),!p.$UTSConnector)try{if(!$ZSIQUTS.getFromSession("siq_isdirect")&&!$ZSIQUTS.getFromSession("siq_ref")){var r=$ZSIQUtil.getNavigationObj(p).referer;r?$ZSIQUTS.storeInSession("siq_ref",r):$ZSIQUTS.storeInSession("siq_isdirect",!0)}}catch(e){}if(!(n.istracking||b.tracking&&"on"==b.tracking)||"off"==b.tracking||$ZSIQUtil.checkGDPRBannerStatus(2,h,i)||o){if(p.$UTSConnector){$UTSConnector.util.net.terminate();var a=$UTSConnector.util.db.getFromCookie({key:"_zldt"})||$UTSConnector.util.db.getFromStorage({type:"localStorage",key:"_zldt"});a&&$UTSHandler.setUVID(a)}}else!e&&p.$UTSConnector&&$zohosq.tracking.on(),N=$ZSIQUTS.get("_zldt"),Q=$ZSIQUTS.get("_zldp")||c,$zv.customaction&&$ZSIQUTS.handleApiChange(4,$zv.customaction),$zv.idletime&&$ZSIQUTS.handleApiChange(2,$zv.idletime),($zv.name||$zv.email||$zv.phone||$zv.info)&&$ZSIQUTS.handleApiChange(3,$zv),A.logFine("very first time uts init"),m.init(!0),p.$UTSConnector||m.net.scheduleMonitor()}else A.logFine("uts init already called - must be called twice")},getUTSSID:function(){return p.$UTSConnector?$UTSConnector.getUTSSID():y},getUTSName:function(){var e={};return e.name=o,e.token=r,e},handleCustomAction:function(e){null!=e.action&&"mailchimp"==e.action?U("mailchimp",JSON.stringify({email:e.email,name:e.name})):$ZSIQUTSAction.handle(e.triggers)}}}(window);var $ZSIQUTSAction=$ZSIQUTSAction||function(p){var n,t={1:"left",2:"right",3:"bottom",4:"top"},r=0,a=0,c="",o={},s=function(){if(0!=$UTSHandler.getFloatStatus()||10===r){var t=!0;switch(r){case 2:$UTSHandler.handleChatTriggers(r,c);break;case 3:$UTSHandler.openChatWindow();break;case 4:case 5:break;case 6:i();break;case 7:$UTSHandler.showButton();break;case 8:l();break;case 9:$UTSHandler.handleChatTriggers(r,c);break;case 16:$UTSHandler.handleBotTrigger(c);break;case 10:!1===e()&&(t=!1)}try{t&&$ZSIQUTS.updateAction({type:"7",action_type:r,triggered_id:n})}catch(t){}}},e=function(){try{var t={triggername:c.triggername,visitorinfo:o};return $zohosq._invoke("visitor.trigger",t)}catch(t){return!1}},f=function(t){try{var e=String(t).toLowerCase();if(-1!=e.search(/hour/i))return 36e5*parseInt(e);if(-1!=e.search(/minute/i))return 6e4*parseInt(e);if(-1!=e.search(/second/i))return 1e3*parseInt(e)}catch(t){}return 0},i=function(){var n=$UTSHandler.getFloatDiv(5);if(null!=n){var r,a=0,o={1:"right",2:"left",3:"top",4:"bottom"},s=t[c.animatetype];"left"===s||"right"===s?(r=p.innerWidth||document.body.clientWidth,r-=n.offsetWidth+10):(r=p.innerHeight||document.body.clientHeight,r-=n.offsetHeight+10);var l=f(c.duration)||50,u=n.currentStyle?n.currentStyle[s]:document.defaultView.getComputedStyle(n,null)[s],m=o[c.animatetype];m=n.currentStyle?n.currentStyle[m]:document.defaultView.getComputedStyle(n,null)[m],n.style[o[c.animatetype]]="auto",n.style[s]="0px",function t(){var e=parseInt(n.style[s]),i=$UTSHandler.getFloatState();if(e<a||r<e||"2"===i)return n.style[s]=u,void(n.style[o[c.animatetype]]=m);n.style[s]=e+10+"px",setTimeout(t,l)}()}},l=function(){var t=$UTSHandler.getFloatDiv(4);if(null!=t){var h=t.querySelector(".zsiq_float"),b=h.currentStyle?h.currentStyle.backgroundColor:document.defaultView.getComputedStyle(h,null).backgroundColor;if(-1!==b.indexOf("#")){var e=b;e=e.replace("#","");var i=parseInt(e,16);b=[i>>16&255,i>>8&255,255&i]}else b=b.replace("rgb(","").replace(")","").split(",");for(var n=0;n<b.length;n++)b[n]=Number(b[n]);var g=!1;!function(){var t=r();!function t(e,i,n){var r=h,a=$UTSHandler.getFloatState();if(g&&e===b||"2"===a)r.style.backgroundColor="rgb("+b+")";else{var o=n/100,s=(i[0]-e[0])/o,l=(i[1]-e[1])/o,u=(i[2]-e[2])/o,m=e[0],c=e[1],f=e[2],d=this;this.step=function(){0<--o?(m=Math.floor(m+s),c=Math.floor(c+l),f=Math.floor(f+u),r.style.backgroundColor="rgb("+m+","+c+","+f+")",p.setTimeout(function(){d.step()},100)):(r.style.backgroundColor="rgb("+i+")",timer=setTimeout(function(){t(i,e,n)},500))},step()}}(b,t,1e3);var e=f(c.duration)||6e4;setTimeout(function(){g=!0},e)}()}function r(){var t,e=b,i=(t=.2126*b[0]+.7152*b[1]+.0722*b[2],parseInt(t)<128);function n(t){return t=parseInt(t),i?Math.round(.6*(255-t)+t):Math.round(.2*(0-t)+t)}var r=n(e[0]),a=n(e[1]),o=n(e[2]);return 255<r||255<a||255<o?e:[r,a,o]}},d={isloadedfirst:!0,zsiqformnames:["name","yourname","subscribername","contactname","customername"],zsiqformemails:["email","emailid","youremail","contactemail","subscriberemail","mail","customeremail","emailaddress"],zsiqformpnos:["phone","pno","phone no","phoneno","phno","tel","mobilenumber","contactphone"],zsiqattriblist:["id","name","type","siqatrib"],zsiqformcompany:["company"],zsiqfirstname:["first_name","firstname","first name"],zsiqlastname:["last_name","lastname","last name"]};return d.submit=d.submit||{},d.isnameset=!1,d.isemailset=!1,d.isphoneset=!1,d.iscompanyset=!1,d.isElementAvailable=function(t){return!(!t||0==t.length)},d.isEquals=function(t,e){return t==e},d.replaceSpecialChars=function(t){return t=t.replace(/[_.-]/g,"")},d.formatAttribValue=function(t){return t=t.toLowerCase().trim(),t=d.replaceSpecialChars(t)},d.checkInDOMAttrib=function(t,e,i){for(var n,r=0;r<t.length;r++){var a=i.getAttribute(t[r]);if(a){a=d.formatAttribValue(a);for(var o=0;o<e.length;o++)if(d.isEquals(a,e[o])){n=i.value;break}if(n)break}}return n||""},d.getName=function(t){if(!d.isnameset)return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqformnames,t)},d.getEmail=function(t,e){if(!d.isemailset)return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqformemails,t)},d.getPhoneNo=function(t,e){if(!d.isphoneset)return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqformpnos,t)},d.getFirstName=function(t,e){return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqfirstname,t)},d.getLastName=function(t,e){return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqlastname,t)},d.getCompany=function(t,e){if(!d.iscompanyset)return d.checkInDOMAttrib(d.zsiqattriblist,d.zsiqformcompany,t)},d.getDetails=function(t){var e={};if(!d.isElementAvailable(t))return e;var i=t.getElementsByTagName("input");if(!d.isElementAvailable(i))return e;for(var n="",r="",a="",o="",s="",l="",u=0;u<i.length;u++){var m=i[u];m.name;m.value&&(""==n&&(n=d.getName(m)),""==r&&(r=d.getEmail(m)),""==a&&(a=d.getPhoneNo(m)),""==o&&(o=d.getFirstName(m)),""==s&&(s=d.getLastName(m)),""==l&&(l=d.getCompany(m)))}if(n)e.name=n,d.isnameset=!0;else if(o){var c=o;s&&(c=c+" "+s),e.name=c,d.isnameset=!0}return l&&(e.company=l,d.iscompanyset=!0),r&&/^([\w]([\w\-\.\+\'\/]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2}))$/.test(r)&&(e.email=r,d.isemailset=!0),a&&/^[+0-9A-Za-z():.\-\[\] ]{1,30}$/.test(a)&&(e.phone=a,d.isphoneset=!0),e},d.getObjKeyCount=function(t){var e=0;if(null===t||"object"!=typeof t)return e;for(var i in t)t.hasOwnProperty(i)&&e++;return e},d.autoPickAndNotifyUTS=function(t){var e=d.getDetails(t);0!==d.getObjKeyCount(e)&&$zohosq.setValue("details",e,5)},d.overridedOnsubmit=function(t){try{t=t||p.event;var e=this;e||(e=t?t.target||t.srcElement:"");try{d.autoPickAndNotifyUTS(e)}catch(t){}var i=e.getAttribute("siq_id");if(i){var n,r=this.onsubmit;return this.onsubmit=d.submit[i],this.onsubmit&&(n=this.onsubmit(t)),!1===n&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.onsubmit=r,n}}catch(t){$ZNotifyTracking(5,{details:{isError:!0}})}},d.attachFormSubmit=function(t){if(d.isElementAvailable(t))for(var e=0;e<t.length;e++){var i=t[e];if(d.isElementAvailable(i)){var n,r=0;do{if(n="autopick_"+Math.floor(1e4*Math.random()),!d.submit[n])break;r++}while(r<10);i.setAttribute("siq_id",n),d.submit[n]=i.onsubmit,i.onsubmit=d.overridedOnsubmit}}},d.includeInForms=function(t){t=t||document.forms,d.isElementAvailable(t)&&d.attachFormSubmit(t)},d.includeInFrames=function(t){t=t||document.getElementsByTagName("iframe");if(d.isElementAvailable(t))for(var e=0;e<t.length;e++)try{var i=(t[e].contentDocument||t[e].contentWindow.document).getElementsByTagName("form");d.includeInForms(i)}catch(t){}},d.isAutoPickDisabled=function(){return!$ZSIQAutopick.isenabled||!d.isloadedfirst||$ZSIQUTS.get("autopickdisabled")||0!=d.getObjKeyCount(d.submit)},d.isGuestToken=function(t,e){if(!t||t==e)return!0;var i=t.split(" ");return!isNaN(t)||"Guest"===t||"Visitor"===i[0]&&i[1]&&!isNaN(i[1])},{handleButtonGlow:l,handleAnimate:i,handle:function(t){if(t&&(r=parseInt(t.type),t.value)){if(c=JSON.parse(t.value),t.visitorinfo){for(var e in t.visitorinfo)if(t.visitorinfo.hasOwnProperty(e)){var i=t.visitorinfo[e];isNaN(i)||(t.visitorinfo[e]=parseInt(i))}o=t.visitorinfo}a="BOT_MESSAGE"==c.mode?c.time?parseInt(c.time)-t.time:0:f(c.time)-t.time,$ZSIQChatWindow.handleIframeLoading(),0<a?setTimeout(s,a):s(),n=t.triggerid}},getUTSActionData:function(){},includeBeforeSubmit:function(t){if(d.isnameset=!d.isGuestToken(t.name,t.token),d.isemailset=t.isemailset||!1,d.isphoneset=t.isphoneset||!1,d.iscompanyset=t.iscompanyset||!1,!(d.isnameset&&d.isemailset&&d.isphoneset&&d.iscompanyset||d.isAutoPickDisabled()))try{d.includeInForms(),d.isloadedfirst=!1}catch(t){}}}}(window);var _ZLDReq=function(){};_ZLDReq.samples="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_ZLDReq.getC=function(e,s){var t=e.charCodeAt(s);if(255<t)throw"error";return t},_ZLDReq.btoa=function(e){if(!e)return"";var s,t,a=[],r=e.length-e.length%3;for(s=0;s<r;s+=3)t=_ZLDReq.getC(e,s)<<16|_ZLDReq.getC(e,s+1)<<8|_ZLDReq.getC(e,s+2),a.push(_ZLDReq.samples.charAt(t>>18)),a.push(_ZLDReq.samples.charAt(t>>12&63)),a.push(_ZLDReq.samples.charAt(t>>6&63)),a.push(_ZLDReq.samples.charAt(63&t));switch(e.length-r){case 1:t=_ZLDReq.getC(e,s)<<16,a.push(_ZLDReq.samples.charAt(t>>18)+_ZLDReq.samples.charAt(t>>12&63)+"==");break;case 2:t=_ZLDReq.getC(e,s)<<16|_ZLDReq.getC(e,s+1)<<8,a.push(_ZLDReq.samples.charAt(t>>18)+_ZLDReq.samples.charAt(t>>12&63)+_ZLDReq.samples.charAt(t>>6&63)+"=")}return a.join("")};var $ZSIQChat=$ZSIQChat||function(){var h;SIQ_FLOAT=1,SIQ_BUTTON=2,SIQ_PERSONALIZE=3,_WINDOW_REPOPULATE=!1;var j={},v={};j[SIQ_FLOAT]=["/styles/floatbutton.css"],j[SIQ_BUTTON]=["/styles/buttonthemeWIDGTHEME.css"],j[SIQ_PERSONALIZE]=["/styles/personalizethemeWIDGTHEME.css"],v[SIQ_FLOAT]=["/js/floatbutton.js"],v[SIQ_BUTTON]=["/js/newbutton.js"];var I=!(v[SIQ_PERSONALIZE]=["/js/personalizewidget.js"]),e=!1,o=!1;try{I=_IS_PREVIEW}catch(e){}try{e=_IS_SIGNATURE_CHAT}catch(e){}var S=function(){var e=document.getElementById("zsiqscript");return e.src||e.getAttribute("src")},s=function(e,t){if(null!=t.status)return e.widgetobj.status=t.status,e;var s=e.widgetobj;if(5==_WIDGETTYPE&&(s=t.theme||t.integprops?e.embedobj:e.embedobj.einfo.props),t.embedstatus)e.embedobj.einfo.embedstatus=t.embedstatus;else for(var a in t)s[a]=t[a];return e.embedobj.einfo.embedstatus.STATUS=!t.toggleoffline,e};return loadStaticFiles=function(){var e=h.widgettype,t=JSON.parse(h.widgetobj.sticker)[1].default,s=document.getElementsByTagName("head");s&&0!=s.length||((s=[])[0]=document.createElement("head"),document.insertBefore(document.body,s[0]));var a=h.commondata.isdev,o=h.commondata.schema,i=S().split("://")[1].replace("/widget",""),n=h.widgetobj.widcssversion,d=o+"://"+h.commondata.cssstatic+"/salesiq/"+n,r=h.commondata.jsstaticserver,c=h.widgetobj.csscdnstaticserver,l=h.commondata.jscdnstaticserver;a&&(c=d=r=l=o+"://"+i,j[SIQ_FLOAT]=["/styles/common/gfonts.css","/styles/float/float-theme.css","/styles/float/font-icon.css","/styles/embed/new/common.css"],j[SIQ_BUTTON]=["/styles/common/gfonts.css","/styles/embed/new/button/themeWIDGTHEME.css","/styles/embed/new/button/font-icon.css","/styles/embed/new/chatwindow/chatwindow.css","/styles/embed/new/common.css"],j[SIQ_PERSONALIZE]=["/styles/common/gfonts.css","/styles/embed/new/personalize/common.css","/styles/embed/new/personalize/themeWIDGTHEME.css","/styles/embed/new/chatwindow/chatwindow.css","/styles/float/font-icon.css","/styles/embed/new/common.css"],v[SIQ_FLOAT]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/float/float-template.js","/js/embed/new/float/floatbuttonui.js","/js/embed/new/float/floatbutton.js"],v[SIQ_BUTTON]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/button/buttonui.js","/js/embed/new/button/button.js"],v[SIQ_PERSONALIZE]=["/js/embed/new/chatwindow/chatwindow.js","/js/embed/new/personalize/personalizeui.js","/js/embed/new/personalize/personalize.js"]),I&&(j[SIQ_BUTTON]=["/styles/buttonpreviewtheme.css"],j[SIQ_PERSONALIZE]=["/styles/personalizepreviewtheme.css"]);for(var m=j[e],b=v[e],g=0;g<m.length;g++){var u=c+m[g];u=u.replace(/WIDGTHEME/g,t);var w=document.createElement("link");w.rel="stylesheet",w.href=u,notifyOnCDNFailure(w,s,(d+m[g]).replace(/WIDGTHEME/g,t),"css"),s[0].appendChild(w)}for(g=0;g<b.length;g++){var p=document.createElement("script"),f=l+b[g];p.src=f,notifyOnCDNFailure(p,s,r+b[g],"js"),a&&(p.async=!1),s[0].appendChild(p)}},notifyOnCDNFailure=function(e,t,s,a){e.onerror=function(){$ZSIQCookie.set("cdn_status",1,1728e5);var e="";"js"==a?(e=document.createElement("script")).src=s:"css"==a&&((e=document.createElement("link")).rel="stylesheet",e.href=s),t[0].appendChild(e)}},{init:function(){try{$ZSIQChat.loadPostMessage(),h=WIDGET_DATA}catch(e){$ZSIQUtil.initializeAPIValues(),$ZSIQChat.getEmbedDetails()}},getWidgetData:function(){return h},getEmbedDetails:function(){if(!$ZSIQUtil.isIPBlocked()){var e=S().replace("widget","getembeddetails.ls");e+="?widgetcode="+$zohosq.widgetcode;var a=$ZSIQUtil.getConfigFromStorage();a&&a.last_modified&&!I&&(e=e+"&last_modified="+a.last_modified);var t=!0;if(a&&a.widgetobj)$ZSIQLSDB.get("ZLD"+a.widgetobj.lsid+"avuid")&&(t=!1);e=e+"&fetchavuid="+t,a&&a.version&&(e=e+"&version="+a.version);var s=$ZSIQUtil.getAPILanguage();s&&(e=e+"&lang_api="+s),(0==s.length&&a.widgetobj&&1==a.widgetobj.langchangeviaapi||0!=s.length&&a.embedobj&&a.embedobj.lang!=s)&&(e=e+"&fetchapilang="+!0);var o=$ZSIQUtil.getBrowserLanguage();o&&(e=e+"&lang_browser="+o);var i=a&&a.geodetails;$ZSIQUtil.isFetchGeoDetails()&&!i&&(e+="&fetchgeo=true");var n,d=((n="")||(n=location.hostname.toString().replace(/^w{3}\./,""),/^[a-zA-Z0-9-\.]+$/.test(n)||(n="")),n||""),r=document.location.href,c=document.referrer,l=window.document.title;d&&(e=e+"&currdomain="+encodeURIComponent(location.protocol+"//"+d)),c=-1!=navigator.userAgent.indexOf("MSIE")||-1!=navigator.userAgent.indexOf("Trident")?window.btoa?(r=window.btoa(r),window.btoa(c)):(r=_ZLDReq.btoa(r),_ZLDReq.btoa(c)):(r=window.btoa(r),window.btoa(c)),e=e+"&pagetitle="+encodeURIComponent(l).substring(0,3e3)+"&cpage="+encodeURIComponent(r).substring(0,3e3),c&&(e=e+"&referrer="+encodeURIComponent(c).substring(0,3e3));var m=$ZSIQCookie.get("cdn_status");m&&(e=e+"&cdn_status="+encodeURIComponent(m));try{e=e+"&signature="+_IS_SIGNATURE_CHAT}catch(e){}I&&0<_WIDGETTYPE&&_WIDGETTYPE<4&&(e=e+"&widgettype="+_WIDGETTYPE),I&&(e=e+"&ispreview="+I);$ZSIQUtil.ajax(e,function(e){var t=$ZSIQUtil.parseToJSON(e);try{var s=t[0].objString;$ZSIQChat.handleEmbedDetails(s,a)}catch(e){}},null,!0)}},handleEmbedDetails:function(e,t){e.not_modified?(t.widgetobj.status=e.STATUS,t.widgetobj.hideembed=e.hideembed,t.commondata.jsstaticserver=e.jsstaticserver,t.commondata.imgstaticserver=e.imgstaticserver,t.widgetobj.cssstaticserver=e.cssstaticserver,t.commondata.jscdnstaticserver=e.jscdnstaticserver,t.widgetobj.csscdnstaticserver=e.csscdnstaticserver,t.commondata.cwrmjsstaticserver=e.cwrmjsstaticserver,t.commondata.cwumjsstaticserver=e.cwumjsstaticserver,t.commondata.zmapapiurl=e.zmapapiurl,t.commondata.zmapapicss=e.zmapapicss,t.commondata.zmapstaticurl=e.zmapstaticurl,t.commondata.zmapapikey=e.zmapapikey,t.widgetobj.wmsjsstaticserver=e.wmsjsstaticserver,t.widgetobj.widcssversion=e.widcssversion,t.embedobj.einfo.embedstatus.STATUS=e.STATUS,t.embedobj.einfo.embedstatus.DEPTLIST=e.DEPTLIST,t.embedobj.einfo.embedstatus.DEPARTMENTID=e.DEPARTMENTID,t.embedobj.params=e.params,e.userdetails&&(t.widgetobj.userdetails=e.userdetails,t.embedobj.einfo.userdetails=e.userdetails),e.geodetails&&(t.geodetails=e.geodetails),e.refreshapilang&&(t.embedobj.jsresource=e.jsresource,t.embedobj.lang=e.lang,t.embedobj.language=e.language,t.widgetobj.resourcefile=e.resourcefile,t.widgetobj.i18nkeys=e.i18nkeys),e.hasOwnProperty("isgdprenabled")&&(t.embedobj.pinfo.pinfo.isgdprenabled=e.isgdprenabled,t.embedobj.pinfo.pinfo.trackingprivacyconfig=e.trackingprivacyconfig,t.embedobj.pinfo.pinfo.chatprivacyconfig=e.chatprivacyconfig,t.embedobj.pinfo.pinfo.cookiepolicyurl=e.cookiepolicyurl,t.embedobj.pinfo.pinfo.chatcookiepolicyurl=e.chatcookiepolicyurl,t.embedobj.pinfo.pinfo.trackingprivacystatement=e.trackingprivacystatement,t.embedobj.pinfo.pinfo.gtpolicyurl=e.gtpolicyurl),t.widgetobj.langchangeviaapi=e.langchangeviaapi,t.embedobj.ismailchimpenabled=e.ismailchimpenabled,t.embedobj.isaudiocallallowed=e.isaudiocallallowed,t.embedobj.cinfo=e.cinfo,t.embedobj.sesonaltheme_expiry=e.sesonaltheme_expiry,delete e.not_modified):(t=e).widgetobj.avuid&&($ZSIQLSDB.set("ZLD"+t.widgetobj.lsid+"avuid",t.widgetobj.avuid),delete t.widgetobj.avuid),h=$ZSIQChat.updateSeasonalTheme(t),I&&((h=s(h,_MODIFIED_WIDGET_OBJ)).commondata.jscdnstaticserver=t.commondata.jsstaticserver,h.widgetobj.csscdnstaticserver=t.widgetobj.cssstaticserver),$UTSHandler.init(),$ZSIQUtil.startAfterReady(t.geodetails||{}),loadStaticFiles()},updateSeasonalTheme:function(t){if(this.isPreview())return t;try{var e=t.embedobj,s=t.embedobj.theme;if((o=parseInt(e.sesonaltheme_expiry)>(new Date).getTime()&&1==JSON.parse(e.einfo.props.issesonaltheme)[0])&&"4"==s&&(t.embedobj.einfo.props.color='[1,{"code":"#000000"}]'),t.embedobj.theme=o?"8":s,o&&1==t.widgettype){var a=$ZSIQUtil.parseToJSON(t.widgetobj.sticker);a[1].default=1,t.widgetobj.sticker=JSON.stringify(a)}return t}catch(e){return t}},isSeasonalTheme:function(){return o},isPreview:function(){return I},isSignatureChat:function(){return e},updatePreviewConfig:function(){h=s(h,_MODIFIED_WIDGET_OBJ)},loadPostMessage:function(){window.addEventListener?window.addEventListener("message",$ZSIQChat.handlePostMessage,!1):window.attachEvent("onmessage",$ZSIQChat.handlePostMessage)},handlePostMessage:function(e){try{var t=JSON.parse(e.data);if("zoho.salesiq.apimessage"===t.type){var s=t.visitor;s.name&&$zohosq.visitor.name(s.name),s.email&&$zohosq.visitor.email(s.email),s.contactnumber&&$zohosq.visitor.contactnumber(s.contactnumber)}else if("zoho.salesiq.gettrackingdetails"===t.type){var a=$UTSHandler.get("_zldt");if(!a)return;var o={type:"zoho.salesiq.trackingdetails"};o.trackingdetails={uvid:a},e.source.postMessage(JSON.stringify(o),"*")}}catch(e){}}}}();if(!$zoho.salesiq.init_called){var isdomloadhandled=!1;try{"async"!=$zoho.salesiq.mode&&($ZSIQChat.init(),isdomloadhandled=!0,$zoho.salesiq.init_called=!0)}catch(e){isdomloadhandled=!1}isdomloadhandled||($zoho.salesiq.init_called=!0,"complete"===document.readyState?$ZSIQChat.init():window.addEventListener?window.addEventListener("load",$ZSIQChat.init):window.attachEvent("onload",$ZSIQChat.init))}
