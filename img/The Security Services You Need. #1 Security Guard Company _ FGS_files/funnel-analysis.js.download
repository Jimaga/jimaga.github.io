"use strict";!function(e,n,t){var a=e.ZAB.zab,r=(e.ZAB.funnel_experiment,!1),i={},u=function(e,t,o){if(r){var c=o||(new Date).getTime()+"unID"+Math.random(),f=function(e,n){try{t(n)}catch(e){}for(var a in delete i[e],i){u(i[a].experimentKey,i[a].callback,a);break}}.bind(null,c);("{}"===JSON.stringify(i)||o)&&a.iframeCommunication(6,{key:e,callback:f}),i[c]={experimentKey:e,callback:t}}else{var l=n.cookie.match(e+"=([^;]*)"),s=l&&l.length>=2?l[1]:null;t(s)}},o=function(e,t,i){var u=(new Date).getTime()+i,o=new Date(u).toGMTString(),c=e,f={visitId:t,expires:o},l=encodeURIComponent(JSON.stringify(f))+"; expires="+o+";path=/";return r?a.iframeCommunication(7,{key:c,value:l}):n.cookie=c+"="+l,f},c=function(e){var t=n.URL;for(var r in ZAB.funnel_experiment){var i=ZAB.funnel_experiment[r],c=[];for(var f in i.steps){var l=i.steps[f],s=!1;try{if(l.custom_step)a.equalsIgnoreCase(l.custom_step,e)&&(s=!0);else if(!e)for(var m=0;m<l.url.length;m++)8!=l.url[m].match_type&&!s&&a.isURLSMatch(t,l.url[m])&&(s=!0)}catch(e){}s&&c.push(l)}c.length>0&&u(r,function(e,n,t,r){var i,u,c,f,l,s=null;a.exists(r)?s=JSON.parse(decodeURIComponent(r)).visitId:(s=(new Date).getTime()+"psf"+Math.random(),o(e.key,s,e.session_time));for(var m=0;m<n.length;m++)try{var v=n[m];i=e.key,u=v.key,c=s,void 0,void 0,f=a.getUserAgentRawData(),l={frd:{a:ZAB.portal,b:i,c:u,d:c,n:!ZAB.returning},urd:f},a.sendDataToServer(5,l)}catch(e){}}.bind(null,i,c,n))}},f=function(){c(),function(){if(e.ZAB.funnel_queue&&e.ZAB.funnel_queue.constructor==Array)for(var n=0;n<e.ZAB.funnel_queue.length;n++){var t=e.ZAB.funnel_queue.shift().step_name;c(t)}e.ZAB.funnel_queue=e.ZAB.funnel_queue||[],e.ZAB.funnel_queue.push=function(e){c(e.step_name)}}()},l=function(){var n;e.ZAB.isIframeLoaded()?(n=function(n){r=n,f(),e.addEventListener("urlchange",function(){f()})},a.iframeCommunication(12,{callback:n})):e.setTimeout(l,20)};l()}(window,document,navigator);